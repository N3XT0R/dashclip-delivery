function gr(n,e){return function(){return n.apply(e,arguments)}}const{toString:gi}=Object.prototype,{getPrototypeOf:En}=Object,{iterator:Jt,toStringTag:vr}=Symbol,Xt=(n=>e=>{const r=gi.call(e);return n[r]||(n[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),ke=n=>(n=n.toLowerCase(),e=>Xt(e)===n),Wt=n=>e=>typeof e===n,{isArray:tt}=Array,et=Wt("undefined");function vt(n){return n!==null&&!et(n)&&n.constructor!==null&&!et(n.constructor)&&ve(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const br=ke("ArrayBuffer");function vi(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&br(n.buffer),e}const bi=Wt("string"),ve=Wt("function"),wr=Wt("number"),bt=n=>n!==null&&typeof n=="object",wi=n=>n===!0||n===!1,Ht=n=>{if(Xt(n)!=="object")return!1;const e=En(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(vr in n)&&!(Jt in n)},yi=n=>{if(!bt(n)||vt(n))return!1;try{return Object.keys(n).length===0&&Object.getPrototypeOf(n)===Object.prototype}catch{return!1}},Si=ke("Date"),Ci=ke("File"),_i=ke("Blob"),xi=ke("FileList"),Ei=n=>bt(n)&&ve(n.pipe),ki=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||ve(n.append)&&((e=Xt(n))==="formdata"||e==="object"&&ve(n.toString)&&n.toString()==="[object FormData]"))},Ti=ke("URLSearchParams"),[Pi,Ai,Ri,Oi]=["ReadableStream","Request","Response","Headers"].map(ke),Li=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function wt(n,e,{allOwnKeys:r=!1}={}){if(n===null||typeof n>"u")return;let o,a;if(typeof n!="object"&&(n=[n]),tt(n))for(o=0,a=n.length;o<a;o++)e.call(null,n[o],o,n);else{if(vt(n))return;const l=r?Object.getOwnPropertyNames(n):Object.keys(n),u=l.length;let m;for(o=0;o<u;o++)m=l[o],e.call(null,n[m],m,n)}}function yr(n,e){if(vt(n))return null;e=e.toLowerCase();const r=Object.keys(n);let o=r.length,a;for(;o-- >0;)if(a=r[o],e===a.toLowerCase())return a;return null}const Je=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Sr=n=>!et(n)&&n!==Je;function bn(){const{caseless:n,skipUndefined:e}=Sr(this)&&this||{},r={},o=(a,l)=>{const u=n&&yr(r,l)||l;Ht(r[u])&&Ht(a)?r[u]=bn(r[u],a):Ht(a)?r[u]=bn({},a):tt(a)?r[u]=a.slice():(!e||!et(a))&&(r[u]=a)};for(let a=0,l=arguments.length;a<l;a++)arguments[a]&&wt(arguments[a],o);return r}const Ni=(n,e,r,{allOwnKeys:o}={})=>(wt(e,(a,l)=>{r&&ve(a)?n[l]=gr(a,r):n[l]=a},{allOwnKeys:o}),n),Di=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),Ui=(n,e,r,o)=>{n.prototype=Object.create(e.prototype,o),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),r&&Object.assign(n.prototype,r)},ji=(n,e,r,o)=>{let a,l,u;const m={};if(e=e||{},n==null)return e;do{for(a=Object.getOwnPropertyNames(n),l=a.length;l-- >0;)u=a[l],(!o||o(u,n,e))&&!m[u]&&(e[u]=n[u],m[u]=!0);n=r!==!1&&En(n)}while(n&&(!r||r(n,e))&&n!==Object.prototype);return e},Ii=(n,e,r)=>{n=String(n),(r===void 0||r>n.length)&&(r=n.length),r-=e.length;const o=n.indexOf(e,r);return o!==-1&&o===r},Fi=n=>{if(!n)return null;if(tt(n))return n;let e=n.length;if(!wr(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=n[e];return r},Hi=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&En(Uint8Array)),Bi=(n,e)=>{const o=(n&&n[Jt]).call(n);let a;for(;(a=o.next())&&!a.done;){const l=a.value;e.call(n,l[0],l[1])}},Mi=(n,e)=>{let r;const o=[];for(;(r=n.exec(e))!==null;)o.push(r);return o},qi=ke("HTMLFormElement"),zi=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,o,a){return o.toUpperCase()+a}),Jn=(({hasOwnProperty:n})=>(e,r)=>n.call(e,r))(Object.prototype),Vi=ke("RegExp"),Cr=(n,e)=>{const r=Object.getOwnPropertyDescriptors(n),o={};wt(r,(a,l)=>{let u;(u=e(a,l,n))!==!1&&(o[l]=u||a)}),Object.defineProperties(n,o)},$i=n=>{Cr(n,(e,r)=>{if(ve(n)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const o=n[r];if(ve(o)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},Ji=(n,e)=>{const r={},o=a=>{a.forEach(l=>{r[l]=!0})};return tt(n)?o(n):o(String(n).split(e)),r},Xi=()=>{},Wi=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e;function Ki(n){return!!(n&&ve(n.append)&&n[vr]==="FormData"&&n[Jt])}const Gi=n=>{const e=new Array(10),r=(o,a)=>{if(bt(o)){if(e.indexOf(o)>=0)return;if(vt(o))return o;if(!("toJSON"in o)){e[a]=o;const l=tt(o)?[]:{};return wt(o,(u,m)=>{const y=r(u,a+1);!et(y)&&(l[m]=y)}),e[a]=void 0,l}}return o};return r(n,0)},Qi=ke("AsyncFunction"),Yi=n=>n&&(bt(n)||ve(n))&&ve(n.then)&&ve(n.catch),_r=((n,e)=>n?setImmediate:e?((r,o)=>(Je.addEventListener("message",({source:a,data:l})=>{a===Je&&l===r&&o.length&&o.shift()()},!1),a=>{o.push(a),Je.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",ve(Je.postMessage)),Zi=typeof queueMicrotask<"u"?queueMicrotask.bind(Je):typeof process<"u"&&process.nextTick||_r,eo=n=>n!=null&&ve(n[Jt]),b={isArray:tt,isArrayBuffer:br,isBuffer:vt,isFormData:ki,isArrayBufferView:vi,isString:bi,isNumber:wr,isBoolean:wi,isObject:bt,isPlainObject:Ht,isEmptyObject:yi,isReadableStream:Pi,isRequest:Ai,isResponse:Ri,isHeaders:Oi,isUndefined:et,isDate:Si,isFile:Ci,isBlob:_i,isRegExp:Vi,isFunction:ve,isStream:Ei,isURLSearchParams:Ti,isTypedArray:Hi,isFileList:xi,forEach:wt,merge:bn,extend:Ni,trim:Li,stripBOM:Di,inherits:Ui,toFlatObject:ji,kindOf:Xt,kindOfTest:ke,endsWith:Ii,toArray:Fi,forEachEntry:Bi,matchAll:Mi,isHTMLForm:qi,hasOwnProperty:Jn,hasOwnProp:Jn,reduceDescriptors:Cr,freezeMethods:$i,toObjectSet:Ji,toCamelCase:zi,noop:Xi,toFiniteNumber:Wi,findKey:yr,global:Je,isContextDefined:Sr,isSpecCompliantForm:Ki,toJSONObject:Gi,isAsyncFn:Qi,isThenable:Yi,setImmediate:_r,asap:Zi,isIterable:eo};function H(n,e,r,o,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),o&&(this.request=o),a&&(this.response=a,this.status=a.status?a.status:null)}b.inherits(H,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:b.toJSONObject(this.config),code:this.code,status:this.status}}});const xr=H.prototype,Er={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{Er[n]={value:n}});Object.defineProperties(H,Er);Object.defineProperty(xr,"isAxiosError",{value:!0});H.from=(n,e,r,o,a,l)=>{const u=Object.create(xr);b.toFlatObject(n,u,function(w){return w!==Error.prototype},v=>v!=="isAxiosError");const m=n&&n.message?n.message:"Error",y=e==null&&n?n.code:e;return H.call(u,m,y,r,o,a),n&&u.cause==null&&Object.defineProperty(u,"cause",{value:n,configurable:!0}),u.name=n&&n.name||"Error",l&&Object.assign(u,l),u};const to=null;function wn(n){return b.isPlainObject(n)||b.isArray(n)}function kr(n){return b.endsWith(n,"[]")?n.slice(0,-2):n}function Xn(n,e,r){return n?n.concat(e).map(function(a,l){return a=kr(a),!r&&l?"["+a+"]":a}).join(r?".":""):e}function no(n){return b.isArray(n)&&!n.some(wn)}const ro=b.toFlatObject(b,{},null,function(e){return/^is[A-Z]/.test(e)});function Kt(n,e,r){if(!b.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,r=b.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(_,g){return!b.isUndefined(g[_])});const o=r.metaTokens,a=r.visitor||w,l=r.dots,u=r.indexes,y=(r.Blob||typeof Blob<"u"&&Blob)&&b.isSpecCompliantForm(e);if(!b.isFunction(a))throw new TypeError("visitor must be a function");function v(S){if(S===null)return"";if(b.isDate(S))return S.toISOString();if(b.isBoolean(S))return S.toString();if(!y&&b.isBlob(S))throw new H("Blob is not supported. Use a Buffer instead.");return b.isArrayBuffer(S)||b.isTypedArray(S)?y&&typeof Blob=="function"?new Blob([S]):Buffer.from(S):S}function w(S,_,g){let k=S;if(S&&!g&&typeof S=="object"){if(b.endsWith(_,"{}"))_=o?_:_.slice(0,-2),S=JSON.stringify(S);else if(b.isArray(S)&&no(S)||(b.isFileList(S)||b.endsWith(_,"[]"))&&(k=b.toArray(S)))return _=kr(_),k.forEach(function(j,B){!(b.isUndefined(j)||j===null)&&e.append(u===!0?Xn([_],B,l):u===null?_:_+"[]",v(j))}),!1}return wn(S)?!0:(e.append(Xn(g,_,l),v(S)),!1)}const x=[],O=Object.assign(ro,{defaultVisitor:w,convertValue:v,isVisitable:wn});function T(S,_){if(!b.isUndefined(S)){if(x.indexOf(S)!==-1)throw Error("Circular reference detected in "+_.join("."));x.push(S),b.forEach(S,function(k,N){(!(b.isUndefined(k)||k===null)&&a.call(e,k,b.isString(N)?N.trim():N,_,O))===!0&&T(k,_?_.concat(N):[N])}),x.pop()}}if(!b.isObject(n))throw new TypeError("data must be an object");return T(n),e}function Wn(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(o){return e[o]})}function kn(n,e){this._pairs=[],n&&Kt(n,this,e)}const Tr=kn.prototype;Tr.append=function(e,r){this._pairs.push([e,r])};Tr.toString=function(e){const r=e?function(o){return e.call(this,o,Wn)}:Wn;return this._pairs.map(function(a){return r(a[0])+"="+r(a[1])},"").join("&")};function so(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Pr(n,e,r){if(!e)return n;const o=r&&r.encode||so;b.isFunction(r)&&(r={serialize:r});const a=r&&r.serialize;let l;if(a?l=a(e,r):l=b.isURLSearchParams(e)?e.toString():new kn(e,r).toString(o),l){const u=n.indexOf("#");u!==-1&&(n=n.slice(0,u)),n+=(n.indexOf("?")===-1?"?":"&")+l}return n}class Kn{constructor(){this.handlers=[]}use(e,r,o){return this.handlers.push({fulfilled:e,rejected:r,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){b.forEach(this.handlers,function(o){o!==null&&e(o)})}}const Ar={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},io=typeof URLSearchParams<"u"?URLSearchParams:kn,oo=typeof FormData<"u"?FormData:null,ao=typeof Blob<"u"?Blob:null,co={isBrowser:!0,classes:{URLSearchParams:io,FormData:oo,Blob:ao},protocols:["http","https","file","blob","url","data"]},Tn=typeof window<"u"&&typeof document<"u",yn=typeof navigator=="object"&&navigator||void 0,uo=Tn&&(!yn||["ReactNative","NativeScript","NS"].indexOf(yn.product)<0),lo=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",ho=Tn&&window.location.href||"http://localhost",fo=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Tn,hasStandardBrowserEnv:uo,hasStandardBrowserWebWorkerEnv:lo,navigator:yn,origin:ho},Symbol.toStringTag,{value:"Module"})),fe={...fo,...co};function po(n,e){return Kt(n,new fe.classes.URLSearchParams,{visitor:function(r,o,a,l){return fe.isNode&&b.isBuffer(r)?(this.append(o,r.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)},...e})}function mo(n){return b.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function go(n){const e={},r=Object.keys(n);let o;const a=r.length;let l;for(o=0;o<a;o++)l=r[o],e[l]=n[l];return e}function Rr(n){function e(r,o,a,l){let u=r[l++];if(u==="__proto__")return!0;const m=Number.isFinite(+u),y=l>=r.length;return u=!u&&b.isArray(a)?a.length:u,y?(b.hasOwnProp(a,u)?a[u]=[a[u],o]:a[u]=o,!m):((!a[u]||!b.isObject(a[u]))&&(a[u]=[]),e(r,o,a[u],l)&&b.isArray(a[u])&&(a[u]=go(a[u])),!m)}if(b.isFormData(n)&&b.isFunction(n.entries)){const r={};return b.forEachEntry(n,(o,a)=>{e(mo(o),a,r,0)}),r}return null}function vo(n,e,r){if(b.isString(n))try{return(e||JSON.parse)(n),b.trim(n)}catch(o){if(o.name!=="SyntaxError")throw o}return(r||JSON.stringify)(n)}const yt={transitional:Ar,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){const o=r.getContentType()||"",a=o.indexOf("application/json")>-1,l=b.isObject(e);if(l&&b.isHTMLForm(e)&&(e=new FormData(e)),b.isFormData(e))return a?JSON.stringify(Rr(e)):e;if(b.isArrayBuffer(e)||b.isBuffer(e)||b.isStream(e)||b.isFile(e)||b.isBlob(e)||b.isReadableStream(e))return e;if(b.isArrayBufferView(e))return e.buffer;if(b.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let m;if(l){if(o.indexOf("application/x-www-form-urlencoded")>-1)return po(e,this.formSerializer).toString();if((m=b.isFileList(e))||o.indexOf("multipart/form-data")>-1){const y=this.env&&this.env.FormData;return Kt(m?{"files[]":e}:e,y&&new y,this.formSerializer)}}return l||a?(r.setContentType("application/json",!1),vo(e)):e}],transformResponse:[function(e){const r=this.transitional||yt.transitional,o=r&&r.forcedJSONParsing,a=this.responseType==="json";if(b.isResponse(e)||b.isReadableStream(e))return e;if(e&&b.isString(e)&&(o&&!this.responseType||a)){const u=!(r&&r.silentJSONParsing)&&a;try{return JSON.parse(e,this.parseReviver)}catch(m){if(u)throw m.name==="SyntaxError"?H.from(m,H.ERR_BAD_RESPONSE,this,null,this.response):m}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:fe.classes.FormData,Blob:fe.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};b.forEach(["delete","get","head","post","put","patch"],n=>{yt.headers[n]={}});const bo=b.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),wo=n=>{const e={};let r,o,a;return n&&n.split(`
`).forEach(function(u){a=u.indexOf(":"),r=u.substring(0,a).trim().toLowerCase(),o=u.substring(a+1).trim(),!(!r||e[r]&&bo[r])&&(r==="set-cookie"?e[r]?e[r].push(o):e[r]=[o]:e[r]=e[r]?e[r]+", "+o:o)}),e},Gn=Symbol("internals");function mt(n){return n&&String(n).trim().toLowerCase()}function Bt(n){return n===!1||n==null?n:b.isArray(n)?n.map(Bt):String(n)}function yo(n){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;for(;o=r.exec(n);)e[o[1]]=o[2];return e}const So=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function pn(n,e,r,o,a){if(b.isFunction(o))return o.call(this,e,r);if(a&&(e=r),!!b.isString(e)){if(b.isString(o))return e.indexOf(o)!==-1;if(b.isRegExp(o))return o.test(e)}}function Co(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,o)=>r.toUpperCase()+o)}function _o(n,e){const r=b.toCamelCase(" "+e);["get","set","has"].forEach(o=>{Object.defineProperty(n,o+r,{value:function(a,l,u){return this[o].call(this,e,a,l,u)},configurable:!0})})}let be=class{constructor(e){e&&this.set(e)}set(e,r,o){const a=this;function l(m,y,v){const w=mt(y);if(!w)throw new Error("header name must be a non-empty string");const x=b.findKey(a,w);(!x||a[x]===void 0||v===!0||v===void 0&&a[x]!==!1)&&(a[x||y]=Bt(m))}const u=(m,y)=>b.forEach(m,(v,w)=>l(v,w,y));if(b.isPlainObject(e)||e instanceof this.constructor)u(e,r);else if(b.isString(e)&&(e=e.trim())&&!So(e))u(wo(e),r);else if(b.isObject(e)&&b.isIterable(e)){let m={},y,v;for(const w of e){if(!b.isArray(w))throw TypeError("Object iterator must return a key-value pair");m[v=w[0]]=(y=m[v])?b.isArray(y)?[...y,w[1]]:[y,w[1]]:w[1]}u(m,r)}else e!=null&&l(r,e,o);return this}get(e,r){if(e=mt(e),e){const o=b.findKey(this,e);if(o){const a=this[o];if(!r)return a;if(r===!0)return yo(a);if(b.isFunction(r))return r.call(this,a,o);if(b.isRegExp(r))return r.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=mt(e),e){const o=b.findKey(this,e);return!!(o&&this[o]!==void 0&&(!r||pn(this,this[o],o,r)))}return!1}delete(e,r){const o=this;let a=!1;function l(u){if(u=mt(u),u){const m=b.findKey(o,u);m&&(!r||pn(o,o[m],m,r))&&(delete o[m],a=!0)}}return b.isArray(e)?e.forEach(l):l(e),a}clear(e){const r=Object.keys(this);let o=r.length,a=!1;for(;o--;){const l=r[o];(!e||pn(this,this[l],l,e,!0))&&(delete this[l],a=!0)}return a}normalize(e){const r=this,o={};return b.forEach(this,(a,l)=>{const u=b.findKey(o,l);if(u){r[u]=Bt(a),delete r[l];return}const m=e?Co(l):String(l).trim();m!==l&&delete r[l],r[m]=Bt(a),o[m]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return b.forEach(this,(o,a)=>{o!=null&&o!==!1&&(r[a]=e&&b.isArray(o)?o.join(", "):o)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const o=new this(e);return r.forEach(a=>o.set(a)),o}static accessor(e){const o=(this[Gn]=this[Gn]={accessors:{}}).accessors,a=this.prototype;function l(u){const m=mt(u);o[m]||(_o(a,u),o[m]=!0)}return b.isArray(e)?e.forEach(l):l(e),this}};be.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);b.reduceDescriptors(be.prototype,({value:n},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(o){this[r]=o}}});b.freezeMethods(be);function mn(n,e){const r=this||yt,o=e||r,a=be.from(o.headers);let l=o.data;return b.forEach(n,function(m){l=m.call(r,l,a.normalize(),e?e.status:void 0)}),a.normalize(),l}function Or(n){return!!(n&&n.__CANCEL__)}function nt(n,e,r){H.call(this,n??"canceled",H.ERR_CANCELED,e,r),this.name="CanceledError"}b.inherits(nt,H,{__CANCEL__:!0});function Lr(n,e,r){const o=r.config.validateStatus;!r.status||!o||o(r.status)?n(r):e(new H("Request failed with status code "+r.status,[H.ERR_BAD_REQUEST,H.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function xo(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function Eo(n,e){n=n||10;const r=new Array(n),o=new Array(n);let a=0,l=0,u;return e=e!==void 0?e:1e3,function(y){const v=Date.now(),w=o[l];u||(u=v),r[a]=y,o[a]=v;let x=l,O=0;for(;x!==a;)O+=r[x++],x=x%n;if(a=(a+1)%n,a===l&&(l=(l+1)%n),v-u<e)return;const T=w&&v-w;return T?Math.round(O*1e3/T):void 0}}function ko(n,e){let r=0,o=1e3/e,a,l;const u=(v,w=Date.now())=>{r=w,a=null,l&&(clearTimeout(l),l=null),n(...v)};return[(...v)=>{const w=Date.now(),x=w-r;x>=o?u(v,w):(a=v,l||(l=setTimeout(()=>{l=null,u(a)},o-x)))},()=>a&&u(a)]}const zt=(n,e,r=3)=>{let o=0;const a=Eo(50,250);return ko(l=>{const u=l.loaded,m=l.lengthComputable?l.total:void 0,y=u-o,v=a(y),w=u<=m;o=u;const x={loaded:u,total:m,progress:m?u/m:void 0,bytes:y,rate:v||void 0,estimated:v&&m&&w?(m-u)/v:void 0,event:l,lengthComputable:m!=null,[e?"download":"upload"]:!0};n(x)},r)},Qn=(n,e)=>{const r=n!=null;return[o=>e[0]({lengthComputable:r,total:n,loaded:o}),e[1]]},Yn=n=>(...e)=>b.asap(()=>n(...e)),To=fe.hasStandardBrowserEnv?((n,e)=>r=>(r=new URL(r,fe.origin),n.protocol===r.protocol&&n.host===r.host&&(e||n.port===r.port)))(new URL(fe.origin),fe.navigator&&/(msie|trident)/i.test(fe.navigator.userAgent)):()=>!0,Po=fe.hasStandardBrowserEnv?{write(n,e,r,o,a,l){const u=[n+"="+encodeURIComponent(e)];b.isNumber(r)&&u.push("expires="+new Date(r).toGMTString()),b.isString(o)&&u.push("path="+o),b.isString(a)&&u.push("domain="+a),l===!0&&u.push("secure"),document.cookie=u.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Ao(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function Ro(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function Nr(n,e,r){let o=!Ao(e);return n&&(o||r==!1)?Ro(n,e):e}const Zn=n=>n instanceof be?{...n}:n;function We(n,e){e=e||{};const r={};function o(v,w,x,O){return b.isPlainObject(v)&&b.isPlainObject(w)?b.merge.call({caseless:O},v,w):b.isPlainObject(w)?b.merge({},w):b.isArray(w)?w.slice():w}function a(v,w,x,O){if(b.isUndefined(w)){if(!b.isUndefined(v))return o(void 0,v,x,O)}else return o(v,w,x,O)}function l(v,w){if(!b.isUndefined(w))return o(void 0,w)}function u(v,w){if(b.isUndefined(w)){if(!b.isUndefined(v))return o(void 0,v)}else return o(void 0,w)}function m(v,w,x){if(x in e)return o(v,w);if(x in n)return o(void 0,v)}const y={url:l,method:l,data:l,baseURL:u,transformRequest:u,transformResponse:u,paramsSerializer:u,timeout:u,timeoutMessage:u,withCredentials:u,withXSRFToken:u,adapter:u,responseType:u,xsrfCookieName:u,xsrfHeaderName:u,onUploadProgress:u,onDownloadProgress:u,decompress:u,maxContentLength:u,maxBodyLength:u,beforeRedirect:u,transport:u,httpAgent:u,httpsAgent:u,cancelToken:u,socketPath:u,responseEncoding:u,validateStatus:m,headers:(v,w,x)=>a(Zn(v),Zn(w),x,!0)};return b.forEach(Object.keys({...n,...e}),function(w){const x=y[w]||a,O=x(n[w],e[w],w);b.isUndefined(O)&&x!==m||(r[w]=O)}),r}const Dr=n=>{const e=We({},n);let{data:r,withXSRFToken:o,xsrfHeaderName:a,xsrfCookieName:l,headers:u,auth:m}=e;if(e.headers=u=be.from(u),e.url=Pr(Nr(e.baseURL,e.url,e.allowAbsoluteUrls),n.params,n.paramsSerializer),m&&u.set("Authorization","Basic "+btoa((m.username||"")+":"+(m.password?unescape(encodeURIComponent(m.password)):""))),b.isFormData(r)){if(fe.hasStandardBrowserEnv||fe.hasStandardBrowserWebWorkerEnv)u.setContentType(void 0);else if(b.isFunction(r.getHeaders)){const y=r.getHeaders(),v=["content-type","content-length"];Object.entries(y).forEach(([w,x])=>{v.includes(w.toLowerCase())&&u.set(w,x)})}}if(fe.hasStandardBrowserEnv&&(o&&b.isFunction(o)&&(o=o(e)),o||o!==!1&&To(e.url))){const y=a&&l&&Po.read(l);y&&u.set(a,y)}return e},Oo=typeof XMLHttpRequest<"u",Lo=Oo&&function(n){return new Promise(function(r,o){const a=Dr(n);let l=a.data;const u=be.from(a.headers).normalize();let{responseType:m,onUploadProgress:y,onDownloadProgress:v}=a,w,x,O,T,S;function _(){T&&T(),S&&S(),a.cancelToken&&a.cancelToken.unsubscribe(w),a.signal&&a.signal.removeEventListener("abort",w)}let g=new XMLHttpRequest;g.open(a.method.toUpperCase(),a.url,!0),g.timeout=a.timeout;function k(){if(!g)return;const j=be.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders()),M={data:!m||m==="text"||m==="json"?g.responseText:g.response,status:g.status,statusText:g.statusText,headers:j,config:n,request:g};Lr(function(ee){r(ee),_()},function(ee){o(ee),_()},M),g=null}"onloadend"in g?g.onloadend=k:g.onreadystatechange=function(){!g||g.readyState!==4||g.status===0&&!(g.responseURL&&g.responseURL.indexOf("file:")===0)||setTimeout(k)},g.onabort=function(){g&&(o(new H("Request aborted",H.ECONNABORTED,n,g)),g=null)},g.onerror=function(B){const M=B&&B.message?B.message:"Network Error",Z=new H(M,H.ERR_NETWORK,n,g);Z.event=B||null,o(Z),g=null},g.ontimeout=function(){let B=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const M=a.transitional||Ar;a.timeoutErrorMessage&&(B=a.timeoutErrorMessage),o(new H(B,M.clarifyTimeoutError?H.ETIMEDOUT:H.ECONNABORTED,n,g)),g=null},l===void 0&&u.setContentType(null),"setRequestHeader"in g&&b.forEach(u.toJSON(),function(B,M){g.setRequestHeader(M,B)}),b.isUndefined(a.withCredentials)||(g.withCredentials=!!a.withCredentials),m&&m!=="json"&&(g.responseType=a.responseType),v&&([O,S]=zt(v,!0),g.addEventListener("progress",O)),y&&g.upload&&([x,T]=zt(y),g.upload.addEventListener("progress",x),g.upload.addEventListener("loadend",T)),(a.cancelToken||a.signal)&&(w=j=>{g&&(o(!j||j.type?new nt(null,n,g):j),g.abort(),g=null)},a.cancelToken&&a.cancelToken.subscribe(w),a.signal&&(a.signal.aborted?w():a.signal.addEventListener("abort",w)));const N=xo(a.url);if(N&&fe.protocols.indexOf(N)===-1){o(new H("Unsupported protocol "+N+":",H.ERR_BAD_REQUEST,n));return}g.send(l||null)})},No=(n,e)=>{const{length:r}=n=n?n.filter(Boolean):[];if(e||r){let o=new AbortController,a;const l=function(v){if(!a){a=!0,m();const w=v instanceof Error?v:this.reason;o.abort(w instanceof H?w:new nt(w instanceof Error?w.message:w))}};let u=e&&setTimeout(()=>{u=null,l(new H(`timeout ${e} of ms exceeded`,H.ETIMEDOUT))},e);const m=()=>{n&&(u&&clearTimeout(u),u=null,n.forEach(v=>{v.unsubscribe?v.unsubscribe(l):v.removeEventListener("abort",l)}),n=null)};n.forEach(v=>v.addEventListener("abort",l));const{signal:y}=o;return y.unsubscribe=()=>b.asap(m),y}},Do=function*(n,e){let r=n.byteLength;if(r<e){yield n;return}let o=0,a;for(;o<r;)a=o+e,yield n.slice(o,a),o=a},Uo=async function*(n,e){for await(const r of jo(n))yield*Do(r,e)},jo=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:r,value:o}=await e.read();if(r)break;yield o}}finally{await e.cancel()}},er=(n,e,r,o)=>{const a=Uo(n,e);let l=0,u,m=y=>{u||(u=!0,o&&o(y))};return new ReadableStream({async pull(y){try{const{done:v,value:w}=await a.next();if(v){m(),y.close();return}let x=w.byteLength;if(r){let O=l+=x;r(O)}y.enqueue(new Uint8Array(w))}catch(v){throw m(v),v}},cancel(y){return m(y),a.return()}},{highWaterMark:2})},tr=64*1024,{isFunction:It}=b,Io=(({Request:n,Response:e})=>({Request:n,Response:e}))(b.global),{ReadableStream:nr,TextEncoder:rr}=b.global,sr=(n,...e)=>{try{return!!n(...e)}catch{return!1}},Fo=n=>{n=b.merge.call({skipUndefined:!0},Io,n);const{fetch:e,Request:r,Response:o}=n,a=e?It(e):typeof fetch=="function",l=It(r),u=It(o);if(!a)return!1;const m=a&&It(nr),y=a&&(typeof rr=="function"?(S=>_=>S.encode(_))(new rr):async S=>new Uint8Array(await new r(S).arrayBuffer())),v=l&&m&&sr(()=>{let S=!1;const _=new r(fe.origin,{body:new nr,method:"POST",get duplex(){return S=!0,"half"}}).headers.has("Content-Type");return S&&!_}),w=u&&m&&sr(()=>b.isReadableStream(new o("").body)),x={stream:w&&(S=>S.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(S=>{!x[S]&&(x[S]=(_,g)=>{let k=_&&_[S];if(k)return k.call(_);throw new H(`Response type '${S}' is not supported`,H.ERR_NOT_SUPPORT,g)})});const O=async S=>{if(S==null)return 0;if(b.isBlob(S))return S.size;if(b.isSpecCompliantForm(S))return(await new r(fe.origin,{method:"POST",body:S}).arrayBuffer()).byteLength;if(b.isArrayBufferView(S)||b.isArrayBuffer(S))return S.byteLength;if(b.isURLSearchParams(S)&&(S=S+""),b.isString(S))return(await y(S)).byteLength},T=async(S,_)=>{const g=b.toFiniteNumber(S.getContentLength());return g??O(_)};return async S=>{let{url:_,method:g,data:k,signal:N,cancelToken:j,timeout:B,onDownloadProgress:M,onUploadProgress:Z,responseType:ee,headers:W,withCredentials:le="same-origin",fetchOptions:de}=Dr(S),Ke=e||fetch;ee=ee?(ee+"").toLowerCase():"text";let we=No([N,j&&j.toAbortSignal()],B),ye=null;const Se=we&&we.unsubscribe&&(()=>{we.unsubscribe()});let Oe;try{if(Z&&v&&g!=="get"&&g!=="head"&&(Oe=await T(W,k))!==0){let Ce=new r(_,{method:"POST",body:k,duplex:"half"}),ce;if(b.isFormData(k)&&(ce=Ce.headers.get("content-type"))&&W.setContentType(ce),Ce.body){const[Fe,Ne]=Qn(Oe,zt(Yn(Z)));k=er(Ce.body,tr,Fe,Ne)}}b.isString(le)||(le=le?"include":"omit");const me=l&&"credentials"in r.prototype,Ge={...de,signal:we,method:g.toUpperCase(),headers:W.normalize().toJSON(),body:k,duplex:"half",credentials:me?le:void 0};ye=l&&new r(_,Ge);let ge=await(l?Ke(ye,de):Ke(_,Ge));const Le=w&&(ee==="stream"||ee==="response");if(w&&(M||Le&&Se)){const Ce={};["status","statusText","headers"].forEach(te=>{Ce[te]=ge[te]});const ce=b.toFiniteNumber(ge.headers.get("content-length")),[Fe,Ne]=M&&Qn(ce,zt(Yn(M),!0))||[];ge=new o(er(ge.body,tr,Fe,()=>{Ne&&Ne(),Se&&Se()}),Ce)}ee=ee||"text";let rt=await x[b.findKey(x,ee)||"text"](ge,S);return!Le&&Se&&Se(),await new Promise((Ce,ce)=>{Lr(Ce,ce,{data:rt,headers:be.from(ge.headers),status:ge.status,statusText:ge.statusText,config:S,request:ye})})}catch(me){throw Se&&Se(),me&&me.name==="TypeError"&&/Load failed|fetch/i.test(me.message)?Object.assign(new H("Network Error",H.ERR_NETWORK,S,ye),{cause:me.cause||me}):H.from(me,me&&me.code,S,ye)}}},Ho=new Map,Ur=n=>{let e=n?n.env:{};const{fetch:r,Request:o,Response:a}=e,l=[o,a,r];let u=l.length,m=u,y,v,w=Ho;for(;m--;)y=l[m],v=w.get(y),v===void 0&&w.set(y,v=m?new Map:Fo(e)),w=v;return v};Ur();const Sn={http:to,xhr:Lo,fetch:{get:Ur}};b.forEach(Sn,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const ir=n=>`- ${n}`,Bo=n=>b.isFunction(n)||n===null||n===!1,jr={getAdapter:(n,e)=>{n=b.isArray(n)?n:[n];const{length:r}=n;let o,a;const l={};for(let u=0;u<r;u++){o=n[u];let m;if(a=o,!Bo(o)&&(a=Sn[(m=String(o)).toLowerCase()],a===void 0))throw new H(`Unknown adapter '${m}'`);if(a&&(b.isFunction(a)||(a=a.get(e))))break;l[m||"#"+u]=a}if(!a){const u=Object.entries(l).map(([y,v])=>`adapter ${y} `+(v===!1?"is not supported by the environment":"is not available in the build"));let m=r?u.length>1?`since :
`+u.map(ir).join(`
`):" "+ir(u[0]):"as no adapter specified";throw new H("There is no suitable adapter to dispatch the request "+m,"ERR_NOT_SUPPORT")}return a},adapters:Sn};function gn(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new nt(null,n)}function or(n){return gn(n),n.headers=be.from(n.headers),n.data=mn.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),jr.getAdapter(n.adapter||yt.adapter,n)(n).then(function(o){return gn(n),o.data=mn.call(n,n.transformResponse,o),o.headers=be.from(o.headers),o},function(o){return Or(o)||(gn(n),o&&o.response&&(o.response.data=mn.call(n,n.transformResponse,o.response),o.response.headers=be.from(o.response.headers))),Promise.reject(o)})}const Ir="1.12.2",Gt={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{Gt[n]=function(o){return typeof o===n||"a"+(e<1?"n ":" ")+n}});const ar={};Gt.transitional=function(e,r,o){function a(l,u){return"[Axios v"+Ir+"] Transitional option '"+l+"'"+u+(o?". "+o:"")}return(l,u,m)=>{if(e===!1)throw new H(a(u," has been removed"+(r?" in "+r:"")),H.ERR_DEPRECATED);return r&&!ar[u]&&(ar[u]=!0,console.warn(a(u," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(l,u,m):!0}};Gt.spelling=function(e){return(r,o)=>(console.warn(`${o} is likely a misspelling of ${e}`),!0)};function Mo(n,e,r){if(typeof n!="object")throw new H("options must be an object",H.ERR_BAD_OPTION_VALUE);const o=Object.keys(n);let a=o.length;for(;a-- >0;){const l=o[a],u=e[l];if(u){const m=n[l],y=m===void 0||u(m,l,n);if(y!==!0)throw new H("option "+l+" must be "+y,H.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new H("Unknown option "+l,H.ERR_BAD_OPTION)}}const Mt={assertOptions:Mo,validators:Gt},Pe=Mt.validators;let Xe=class{constructor(e){this.defaults=e||{},this.interceptors={request:new Kn,response:new Kn}}async request(e,r){try{return await this._request(e,r)}catch(o){if(o instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const l=a.stack?a.stack.replace(/^.+\n/,""):"";try{o.stack?l&&!String(o.stack).endsWith(l.replace(/^.+\n.+\n/,""))&&(o.stack+=`
`+l):o.stack=l}catch{}}throw o}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=We(this.defaults,r);const{transitional:o,paramsSerializer:a,headers:l}=r;o!==void 0&&Mt.assertOptions(o,{silentJSONParsing:Pe.transitional(Pe.boolean),forcedJSONParsing:Pe.transitional(Pe.boolean),clarifyTimeoutError:Pe.transitional(Pe.boolean)},!1),a!=null&&(b.isFunction(a)?r.paramsSerializer={serialize:a}:Mt.assertOptions(a,{encode:Pe.function,serialize:Pe.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Mt.assertOptions(r,{baseUrl:Pe.spelling("baseURL"),withXsrfToken:Pe.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let u=l&&b.merge(l.common,l[r.method]);l&&b.forEach(["delete","get","head","post","put","patch","common"],S=>{delete l[S]}),r.headers=be.concat(u,l);const m=[];let y=!0;this.interceptors.request.forEach(function(_){typeof _.runWhen=="function"&&_.runWhen(r)===!1||(y=y&&_.synchronous,m.unshift(_.fulfilled,_.rejected))});const v=[];this.interceptors.response.forEach(function(_){v.push(_.fulfilled,_.rejected)});let w,x=0,O;if(!y){const S=[or.bind(this),void 0];for(S.unshift(...m),S.push(...v),O=S.length,w=Promise.resolve(r);x<O;)w=w.then(S[x++],S[x++]);return w}O=m.length;let T=r;for(;x<O;){const S=m[x++],_=m[x++];try{T=S(T)}catch(g){_.call(this,g);break}}try{w=or.call(this,T)}catch(S){return Promise.reject(S)}for(x=0,O=v.length;x<O;)w=w.then(v[x++],v[x++]);return w}getUri(e){e=We(this.defaults,e);const r=Nr(e.baseURL,e.url,e.allowAbsoluteUrls);return Pr(r,e.params,e.paramsSerializer)}};b.forEach(["delete","get","head","options"],function(e){Xe.prototype[e]=function(r,o){return this.request(We(o||{},{method:e,url:r,data:(o||{}).data}))}});b.forEach(["post","put","patch"],function(e){function r(o){return function(l,u,m){return this.request(We(m||{},{method:e,headers:o?{"Content-Type":"multipart/form-data"}:{},url:l,data:u}))}}Xe.prototype[e]=r(),Xe.prototype[e+"Form"]=r(!0)});let qo=class Fr{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(l){r=l});const o=this;this.promise.then(a=>{if(!o._listeners)return;let l=o._listeners.length;for(;l-- >0;)o._listeners[l](a);o._listeners=null}),this.promise.then=a=>{let l;const u=new Promise(m=>{o.subscribe(m),l=m}).then(a);return u.cancel=function(){o.unsubscribe(l)},u},e(function(l,u,m){o.reason||(o.reason=new nt(l,u,m),r(o.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const e=new AbortController,r=o=>{e.abort(o)};return this.subscribe(r),e.signal.unsubscribe=()=>this.unsubscribe(r),e.signal}static source(){let e;return{token:new Fr(function(a){e=a}),cancel:e}}};function zo(n){return function(r){return n.apply(null,r)}}function Vo(n){return b.isObject(n)&&n.isAxiosError===!0}const Cn={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Cn).forEach(([n,e])=>{Cn[e]=n});function Hr(n){const e=new Xe(n),r=gr(Xe.prototype.request,e);return b.extend(r,Xe.prototype,e,{allOwnKeys:!0}),b.extend(r,e,null,{allOwnKeys:!0}),r.create=function(a){return Hr(We(n,a))},r}const ne=Hr(yt);ne.Axios=Xe;ne.CanceledError=nt;ne.CancelToken=qo;ne.isCancel=Or;ne.VERSION=Ir;ne.toFormData=Kt;ne.AxiosError=H;ne.Cancel=ne.CanceledError;ne.all=function(e){return Promise.all(e)};ne.spread=zo;ne.isAxiosError=Vo;ne.mergeConfig=We;ne.AxiosHeaders=be;ne.formToJSON=n=>Rr(b.isHTMLForm(n)?new FormData(n):n);ne.getAdapter=jr.getAdapter;ne.HttpStatusCode=Cn;ne.default=ne;const{Axios:Wa,AxiosError:Ka,CanceledError:Ga,isCancel:Qa,CancelToken:Ya,VERSION:Za,all:ec,Cancel:tc,isAxiosError:nc,spread:rc,toFormData:sc,AxiosHeaders:ic,HttpStatusCode:oc,formToJSON:ac,getAdapter:cc,mergeConfig:uc}=ne;class Pn{constructor(){this.notificationCreatedEvent=".Illuminate\\Notifications\\Events\\BroadcastNotificationCreated"}listenForWhisper(e,r){return this.listen(".client-"+e,r)}notification(e){return this.listen(this.notificationCreatedEvent,e)}stopListeningForNotification(e){return this.stopListening(this.notificationCreatedEvent,e)}stopListeningForWhisper(e,r){return this.stopListening(".client-"+e,r)}}class Br{constructor(e){this.namespace=e}format(e){return[".","\\"].includes(e.charAt(0))?e.substring(1):(this.namespace&&(e=this.namespace+"."+e),e.replace(/\./g,"\\"))}setNamespace(e){this.namespace=e}}function $o(n){try{new n}catch(e){if(e instanceof Error&&e.message.includes("is not a constructor"))return!1}return!0}class An extends Pn{constructor(e,r,o){super(),this.name=r,this.pusher=e,this.options=o,this.eventFormatter=new Br(this.options.namespace),this.subscribe()}subscribe(){this.subscription=this.pusher.subscribe(this.name)}unsubscribe(){this.pusher.unsubscribe(this.name)}listen(e,r){return this.on(this.eventFormatter.format(e),r),this}listenToAll(e){return this.subscription.bind_global((r,o)=>{if(r.startsWith("pusher:"))return;let a=String(this.options.namespace??"").replace(/\./g,"\\"),l=r.startsWith(a)?r.substring(a.length+1):"."+r;e(l,o)}),this}stopListening(e,r){return r?this.subscription.unbind(this.eventFormatter.format(e),r):this.subscription.unbind(this.eventFormatter.format(e)),this}stopListeningToAll(e){return e?this.subscription.unbind_global(e):this.subscription.unbind_global(),this}subscribed(e){return this.on("pusher:subscription_succeeded",()=>{e()}),this}error(e){return this.on("pusher:subscription_error",r=>{e(r)}),this}on(e,r){return this.subscription.bind(e,r),this}}class Mr extends An{whisper(e,r){return this.pusher.channels.channels[this.name].trigger(`client-${e}`,r),this}}class Jo extends An{whisper(e,r){return this.pusher.channels.channels[this.name].trigger(`client-${e}`,r),this}}class Xo extends Mr{here(e){return this.on("pusher:subscription_succeeded",r=>{e(Object.keys(r.members).map(o=>r.members[o]))}),this}joining(e){return this.on("pusher:member_added",r=>{e(r.info)}),this}whisper(e,r){return this.pusher.channels.channels[this.name].trigger(`client-${e}`,r),this}leaving(e){return this.on("pusher:member_removed",r=>{e(r.info)}),this}}class qr extends Pn{constructor(e,r,o){super(),this.events={},this.listeners={},this.name=r,this.socket=e,this.options=o,this.eventFormatter=new Br(this.options.namespace),this.subscribe()}subscribe(){this.socket.emit("subscribe",{channel:this.name,auth:this.options.auth||{}})}unsubscribe(){this.unbind(),this.socket.emit("unsubscribe",{channel:this.name,auth:this.options.auth||{}})}listen(e,r){return this.on(this.eventFormatter.format(e),r),this}stopListening(e,r){return this.unbindEvent(this.eventFormatter.format(e),r),this}subscribed(e){return this.on("connect",r=>{e(r)}),this}error(e){return this}on(e,r){return this.listeners[e]=this.listeners[e]||[],this.events[e]||(this.events[e]=(o,a)=>{this.name===o&&this.listeners[e]&&this.listeners[e].forEach(l=>l(a))},this.socket.on(e,this.events[e])),this.listeners[e].push(r),this}unbind(){Object.keys(this.events).forEach(e=>{this.unbindEvent(e)})}unbindEvent(e,r){this.listeners[e]=this.listeners[e]||[],r&&(this.listeners[e]=this.listeners[e].filter(o=>o!==r)),(!r||this.listeners[e].length===0)&&(this.events[e]&&(this.socket.removeListener(e,this.events[e]),delete this.events[e]),delete this.listeners[e])}}class zr extends qr{whisper(e,r){return this.socket.emit("client event",{channel:this.name,event:`client-${e}`,data:r}),this}}class Wo extends zr{here(e){return this.on("presence:subscribed",r=>{e(r.map(o=>o.user_info))}),this}joining(e){return this.on("presence:joining",r=>e(r.user_info)),this}whisper(e,r){return this.socket.emit("client event",{channel:this.name,event:`client-${e}`,data:r}),this}leaving(e){return this.on("presence:leaving",r=>e(r.user_info)),this}}class Vt extends Pn{subscribe(){}unsubscribe(){}listen(e,r){return this}listenToAll(e){return this}stopListening(e,r){return this}subscribed(e){return this}error(e){return this}on(e,r){return this}}class Vr extends Vt{whisper(e,r){return this}}class Ko extends Vt{whisper(e,r){return this}}class Go extends Vr{here(e){return this}joining(e){return this}whisper(e,r){return this}leaving(e){return this}}const $r=class Jr{constructor(e){this.setOptions(e),this.connect()}setOptions(e){this.options={...Jr._defaultOptions,...e,broadcaster:e.broadcaster};let r=this.csrfToken();r&&(this.options.auth.headers["X-CSRF-TOKEN"]=r,this.options.userAuthentication.headers["X-CSRF-TOKEN"]=r),r=this.options.bearerToken,r&&(this.options.auth.headers.Authorization="Bearer "+r,this.options.userAuthentication.headers.Authorization="Bearer "+r)}csrfToken(){var e,r;return typeof window<"u"&&(e=window.Laravel)!=null&&e.csrfToken?window.Laravel.csrfToken:this.options.csrfToken?this.options.csrfToken:typeof document<"u"&&typeof document.querySelector=="function"?((r=document.querySelector('meta[name="csrf-token"]'))==null?void 0:r.getAttribute("content"))??null:null}};$r._defaultOptions={auth:{headers:{}},authEndpoint:"/broadcasting/auth",userAuthentication:{endpoint:"/broadcasting/user-auth",headers:{}},csrfToken:null,bearerToken:null,host:null,key:null,namespace:"App.Events"};let Rn=$r;class Ft extends Rn{constructor(){super(...arguments),this.channels={}}connect(){if(typeof this.options.client<"u")this.pusher=this.options.client;else if(this.options.Pusher)this.pusher=new this.options.Pusher(this.options.key,this.options);else if(typeof window<"u"&&typeof window.Pusher<"u")this.pusher=new window.Pusher(this.options.key,this.options);else throw new Error("Pusher client not found. Should be globally available or passed via options.client")}signin(){this.pusher.signin()}listen(e,r,o){return this.channel(e).listen(r,o)}channel(e){return this.channels[e]||(this.channels[e]=new An(this.pusher,e,this.options)),this.channels[e]}privateChannel(e){return this.channels["private-"+e]||(this.channels["private-"+e]=new Mr(this.pusher,"private-"+e,this.options)),this.channels["private-"+e]}encryptedPrivateChannel(e){return this.channels["private-encrypted-"+e]||(this.channels["private-encrypted-"+e]=new Jo(this.pusher,"private-encrypted-"+e,this.options)),this.channels["private-encrypted-"+e]}presenceChannel(e){return this.channels["presence-"+e]||(this.channels["presence-"+e]=new Xo(this.pusher,"presence-"+e,this.options)),this.channels["presence-"+e]}leave(e){[e,"private-"+e,"private-encrypted-"+e,"presence-"+e].forEach(r=>{this.leaveChannel(r)})}leaveChannel(e){this.channels[e]&&(this.channels[e].unsubscribe(),delete this.channels[e])}socketId(){return this.pusher.connection.socket_id}disconnect(){this.pusher.disconnect()}}class Qo extends Rn{constructor(){super(...arguments),this.channels={}}connect(){let e=this.getSocketIO();this.socket=e(this.options.host??void 0,this.options),this.socket.io.on("reconnect",()=>{Object.values(this.channels).forEach(r=>{r.subscribe()})})}getSocketIO(){if(typeof this.options.client<"u")return this.options.client;if(typeof window<"u"&&typeof window.io<"u")return window.io;throw new Error("Socket.io client not found. Should be globally available or passed via options.client")}listen(e,r,o){return this.channel(e).listen(r,o)}channel(e){return this.channels[e]||(this.channels[e]=new qr(this.socket,e,this.options)),this.channels[e]}privateChannel(e){return this.channels["private-"+e]||(this.channels["private-"+e]=new zr(this.socket,"private-"+e,this.options)),this.channels["private-"+e]}presenceChannel(e){return this.channels["presence-"+e]||(this.channels["presence-"+e]=new Wo(this.socket,"presence-"+e,this.options)),this.channels["presence-"+e]}leave(e){[e,"private-"+e,"presence-"+e].forEach(r=>{this.leaveChannel(r)})}leaveChannel(e){this.channels[e]&&(this.channels[e].unsubscribe(),delete this.channels[e])}socketId(){return this.socket.id}disconnect(){this.socket.disconnect()}}class cr extends Rn{constructor(){super(...arguments),this.channels={}}connect(){}listen(e,r,o){return new Vt}channel(e){return new Vt}privateChannel(e){return new Vr}encryptedPrivateChannel(e){return new Ko}presenceChannel(e){return new Go}leave(e){}leaveChannel(e){}socketId(){return"fake-socket-id"}disconnect(){}}class Yo{constructor(e){this.options=e,this.connect(),this.options.withoutInterceptors||this.registerInterceptors()}channel(e){return this.connector.channel(e)}connect(){if(this.options.broadcaster==="reverb")this.connector=new Ft({...this.options,cluster:""});else if(this.options.broadcaster==="pusher")this.connector=new Ft(this.options);else if(this.options.broadcaster==="ably")this.connector=new Ft({...this.options,cluster:"",broadcaster:"pusher"});else if(this.options.broadcaster==="socket.io")this.connector=new Qo(this.options);else if(this.options.broadcaster==="null")this.connector=new cr(this.options);else if(typeof this.options.broadcaster=="function"&&$o(this.options.broadcaster))this.connector=new this.options.broadcaster(this.options);else throw new Error(`Broadcaster ${typeof this.options.broadcaster} ${String(this.options.broadcaster)} is not supported.`)}disconnect(){this.connector.disconnect()}join(e){return this.connector.presenceChannel(e)}leave(e){this.connector.leave(e)}leaveChannel(e){this.connector.leaveChannel(e)}leaveAllChannels(){for(const e in this.connector.channels)this.leaveChannel(e)}listen(e,r,o){return this.connector.listen(e,r,o)}private(e){return this.connector.privateChannel(e)}encryptedPrivate(e){if(this.connectorSupportsEncryptedPrivateChannels(this.connector))return this.connector.encryptedPrivateChannel(e);throw new Error(`Broadcaster ${typeof this.options.broadcaster} ${String(this.options.broadcaster)} does not support encrypted private channels.`)}connectorSupportsEncryptedPrivateChannels(e){return e instanceof Ft||e instanceof cr}socketId(){return this.connector.socketId()}registerInterceptors(){typeof Vue<"u"&&Vue!=null&&Vue.http&&this.registerVueRequestInterceptor(),typeof axios=="function"&&this.registerAxiosRequestInterceptor(),typeof jQuery=="function"&&this.registerjQueryAjaxSetup(),typeof Turbo=="object"&&this.registerTurboRequestInterceptor()}registerVueRequestInterceptor(){Vue.http.interceptors.push((e,r)=>{this.socketId()&&e.headers.set("X-Socket-ID",this.socketId()),r()})}registerAxiosRequestInterceptor(){axios.interceptors.request.use(e=>(this.socketId()&&(e.headers["X-Socket-Id"]=this.socketId()),e))}registerjQueryAjaxSetup(){typeof jQuery.ajax<"u"&&jQuery.ajaxPrefilter((e,r,o)=>{this.socketId()&&o.setRequestHeader("X-Socket-Id",this.socketId())})}registerTurboRequestInterceptor(){document.addEventListener("turbo:before-fetch-request",e=>{e.detail.fetchOptions.headers["X-Socket-Id"]=this.socketId()})}}function Zo(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var vn={exports:{}};/*!
 * Pusher JavaScript Library v8.4.0
 * https://pusher.com/
 *
 * Copyright 2020, Pusher
 * Released under the MIT licence.
 */var ur;function ea(){return ur||(ur=1,(function(n,e){(function(o,a){n.exports=a()})(window,function(){return(function(r){var o={};function a(l){if(o[l])return o[l].exports;var u=o[l]={i:l,l:!1,exports:{}};return r[l].call(u.exports,u,u.exports,a),u.l=!0,u.exports}return a.m=r,a.c=o,a.d=function(l,u,m){a.o(l,u)||Object.defineProperty(l,u,{enumerable:!0,get:m})},a.r=function(l){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(l,"__esModule",{value:!0})},a.t=function(l,u){if(u&1&&(l=a(l)),u&8||u&4&&typeof l=="object"&&l&&l.__esModule)return l;var m=Object.create(null);if(a.r(m),Object.defineProperty(m,"default",{enumerable:!0,value:l}),u&2&&typeof l!="string")for(var y in l)a.d(m,y,(function(v){return l[v]}).bind(null,y));return m},a.n=function(l){var u=l&&l.__esModule?function(){return l.default}:function(){return l};return a.d(u,"a",u),u},a.o=function(l,u){return Object.prototype.hasOwnProperty.call(l,u)},a.p="",a(a.s=2)})([(function(r,o,a){var l=this&&this.__extends||(function(){var _=function(g,k){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(N,j){N.__proto__=j}||function(N,j){for(var B in j)j.hasOwnProperty(B)&&(N[B]=j[B])},_(g,k)};return function(g,k){_(g,k);function N(){this.constructor=g}g.prototype=k===null?Object.create(k):(N.prototype=k.prototype,new N)}})();Object.defineProperty(o,"__esModule",{value:!0});var u=256,m=(function(){function _(g){g===void 0&&(g="="),this._paddingCharacter=g}return _.prototype.encodedLength=function(g){return this._paddingCharacter?(g+2)/3*4|0:(g*8+5)/6|0},_.prototype.encode=function(g){for(var k="",N=0;N<g.length-2;N+=3){var j=g[N]<<16|g[N+1]<<8|g[N+2];k+=this._encodeByte(j>>>18&63),k+=this._encodeByte(j>>>12&63),k+=this._encodeByte(j>>>6&63),k+=this._encodeByte(j>>>0&63)}var B=g.length-N;if(B>0){var j=g[N]<<16|(B===2?g[N+1]<<8:0);k+=this._encodeByte(j>>>18&63),k+=this._encodeByte(j>>>12&63),B===2?k+=this._encodeByte(j>>>6&63):k+=this._paddingCharacter||"",k+=this._paddingCharacter||""}return k},_.prototype.maxDecodedLength=function(g){return this._paddingCharacter?g/4*3|0:(g*6+7)/8|0},_.prototype.decodedLength=function(g){return this.maxDecodedLength(g.length-this._getPaddingLength(g))},_.prototype.decode=function(g){if(g.length===0)return new Uint8Array(0);for(var k=this._getPaddingLength(g),N=g.length-k,j=new Uint8Array(this.maxDecodedLength(N)),B=0,M=0,Z=0,ee=0,W=0,le=0,de=0;M<N-4;M+=4)ee=this._decodeChar(g.charCodeAt(M+0)),W=this._decodeChar(g.charCodeAt(M+1)),le=this._decodeChar(g.charCodeAt(M+2)),de=this._decodeChar(g.charCodeAt(M+3)),j[B++]=ee<<2|W>>>4,j[B++]=W<<4|le>>>2,j[B++]=le<<6|de,Z|=ee&u,Z|=W&u,Z|=le&u,Z|=de&u;if(M<N-1&&(ee=this._decodeChar(g.charCodeAt(M)),W=this._decodeChar(g.charCodeAt(M+1)),j[B++]=ee<<2|W>>>4,Z|=ee&u,Z|=W&u),M<N-2&&(le=this._decodeChar(g.charCodeAt(M+2)),j[B++]=W<<4|le>>>2,Z|=le&u),M<N-3&&(de=this._decodeChar(g.charCodeAt(M+3)),j[B++]=le<<6|de,Z|=de&u),Z!==0)throw new Error("Base64Coder: incorrect characters for decoding");return j},_.prototype._encodeByte=function(g){var k=g;return k+=65,k+=25-g>>>8&6,k+=51-g>>>8&-75,k+=61-g>>>8&-15,k+=62-g>>>8&3,String.fromCharCode(k)},_.prototype._decodeChar=function(g){var k=u;return k+=(42-g&g-44)>>>8&-u+g-43+62,k+=(46-g&g-48)>>>8&-u+g-47+63,k+=(47-g&g-58)>>>8&-u+g-48+52,k+=(64-g&g-91)>>>8&-u+g-65+0,k+=(96-g&g-123)>>>8&-u+g-97+26,k},_.prototype._getPaddingLength=function(g){var k=0;if(this._paddingCharacter){for(var N=g.length-1;N>=0&&g[N]===this._paddingCharacter;N--)k++;if(g.length<4||k>2)throw new Error("Base64Coder: incorrect padding")}return k},_})();o.Coder=m;var y=new m;function v(_){return y.encode(_)}o.encode=v;function w(_){return y.decode(_)}o.decode=w;var x=(function(_){l(g,_);function g(){return _!==null&&_.apply(this,arguments)||this}return g.prototype._encodeByte=function(k){var N=k;return N+=65,N+=25-k>>>8&6,N+=51-k>>>8&-75,N+=61-k>>>8&-13,N+=62-k>>>8&49,String.fromCharCode(N)},g.prototype._decodeChar=function(k){var N=u;return N+=(44-k&k-46)>>>8&-u+k-45+62,N+=(94-k&k-96)>>>8&-u+k-95+63,N+=(47-k&k-58)>>>8&-u+k-48+52,N+=(64-k&k-91)>>>8&-u+k-65+0,N+=(96-k&k-123)>>>8&-u+k-97+26,N},g})(m);o.URLSafeCoder=x;var O=new x;function T(_){return O.encode(_)}o.encodeURLSafe=T;function S(_){return O.decode(_)}o.decodeURLSafe=S,o.encodedLength=function(_){return y.encodedLength(_)},o.maxDecodedLength=function(_){return y.maxDecodedLength(_)},o.decodedLength=function(_){return y.decodedLength(_)}}),(function(r,o,a){Object.defineProperty(o,"__esModule",{value:!0});var l="utf8: invalid string",u="utf8: invalid source encoding";function m(w){for(var x=new Uint8Array(y(w)),O=0,T=0;T<w.length;T++){var S=w.charCodeAt(T);S<128?x[O++]=S:S<2048?(x[O++]=192|S>>6,x[O++]=128|S&63):S<55296?(x[O++]=224|S>>12,x[O++]=128|S>>6&63,x[O++]=128|S&63):(T++,S=(S&1023)<<10,S|=w.charCodeAt(T)&1023,S+=65536,x[O++]=240|S>>18,x[O++]=128|S>>12&63,x[O++]=128|S>>6&63,x[O++]=128|S&63)}return x}o.encode=m;function y(w){for(var x=0,O=0;O<w.length;O++){var T=w.charCodeAt(O);if(T<128)x+=1;else if(T<2048)x+=2;else if(T<55296)x+=3;else if(T<=57343){if(O>=w.length-1)throw new Error(l);O++,x+=4}else throw new Error(l)}return x}o.encodedLength=y;function v(w){for(var x=[],O=0;O<w.length;O++){var T=w[O];if(T&128){var S=void 0;if(T<224){if(O>=w.length)throw new Error(u);var _=w[++O];if((_&192)!==128)throw new Error(u);T=(T&31)<<6|_&63,S=128}else if(T<240){if(O>=w.length-1)throw new Error(u);var _=w[++O],g=w[++O];if((_&192)!==128||(g&192)!==128)throw new Error(u);T=(T&15)<<12|(_&63)<<6|g&63,S=2048}else if(T<248){if(O>=w.length-2)throw new Error(u);var _=w[++O],g=w[++O],k=w[++O];if((_&192)!==128||(g&192)!==128||(k&192)!==128)throw new Error(u);T=(T&15)<<18|(_&63)<<12|(g&63)<<6|k&63,S=65536}else throw new Error(u);if(T<S||T>=55296&&T<=57343)throw new Error(u);if(T>=65536){if(T>1114111)throw new Error(u);T-=65536,x.push(String.fromCharCode(55296|T>>10)),T=56320|T&1023}}x.push(String.fromCharCode(T))}return x.join("")}o.decode=v}),(function(r,o,a){r.exports=a(3).default}),(function(r,o,a){a.r(o);class l{constructor(t,s){this.lastId=0,this.prefix=t,this.name=s}create(t){this.lastId++;var s=this.lastId,c=this.prefix+s,f=this.name+"["+s+"]",C=!1,P=function(){C||(t.apply(null,arguments),C=!0)};return this[s]=P,{number:s,id:c,name:f,callback:P}}remove(t){delete this[t.number]}}var u=new l("_pusher_script_","Pusher.ScriptReceivers"),m={VERSION:"8.4.0",PROTOCOL:7,wsPort:80,wssPort:443,wsPath:"",httpHost:"sockjs.pusher.com",httpPort:80,httpsPort:443,httpPath:"/pusher",stats_host:"stats.pusher.com",authEndpoint:"/pusher/auth",authTransport:"ajax",activityTimeout:12e4,pongTimeout:3e4,unavailableTimeout:1e4,userAuthentication:{endpoint:"/pusher/user-auth",transport:"ajax"},channelAuthorization:{endpoint:"/pusher/auth",transport:"ajax"},cdn_http:"http://js.pusher.com",cdn_https:"https://js.pusher.com",dependency_suffix:""},y=m;class v{constructor(t){this.options=t,this.receivers=t.receivers||u,this.loading={}}load(t,s,c){var f=this;if(f.loading[t]&&f.loading[t].length>0)f.loading[t].push(c);else{f.loading[t]=[c];var C=F.createScriptRequest(f.getPath(t,s)),P=f.receivers.create(function(D){if(f.receivers.remove(P),f.loading[t]){var I=f.loading[t];delete f.loading[t];for(var z=function(ie){ie||C.cleanup()},J=0;J<I.length;J++)I[J](D,z)}});C.send(P)}}getRoot(t){var s,c=F.getDocument().location.protocol;return t&&t.useTLS||c==="https:"?s=this.options.cdn_https:s=this.options.cdn_http,s.replace(/\/*$/,"")+"/"+this.options.version}getPath(t,s){return this.getRoot(s)+"/"+t+this.options.suffix+".js"}}var w=new l("_pusher_dependencies","Pusher.DependenciesReceivers"),x=new v({cdn_http:y.cdn_http,cdn_https:y.cdn_https,version:y.VERSION,suffix:y.dependency_suffix,receivers:w});const O={baseUrl:"https://pusher.com",urls:{authenticationEndpoint:{path:"/docs/channels/server_api/authenticating_users"},authorizationEndpoint:{path:"/docs/channels/server_api/authorizing-users/"},javascriptQuickStart:{path:"/docs/javascript_quick_start"},triggeringClientEvents:{path:"/docs/client_api_guide/client_events#trigger-events"},encryptedChannelSupport:{fullUrl:"https://github.com/pusher/pusher-js/tree/cc491015371a4bde5743d1c87a0fbac0feb53195#encrypted-channel-support"}}};var S={buildLogSuffix:function(i){const t="See:",s=O.urls[i];if(!s)return"";let c;return s.fullUrl?c=s.fullUrl:s.path&&(c=O.baseUrl+s.path),c?`${t} ${c}`:""}},_;(function(i){i.UserAuthentication="user-authentication",i.ChannelAuthorization="channel-authorization"})(_||(_={}));class g extends Error{constructor(t){super(t),Object.setPrototypeOf(this,new.target.prototype)}}class k extends Error{constructor(t){super(t),Object.setPrototypeOf(this,new.target.prototype)}}class N extends Error{constructor(t){super(t),Object.setPrototypeOf(this,new.target.prototype)}}class j extends Error{constructor(t){super(t),Object.setPrototypeOf(this,new.target.prototype)}}class B extends Error{constructor(t){super(t),Object.setPrototypeOf(this,new.target.prototype)}}class M extends Error{constructor(t){super(t),Object.setPrototypeOf(this,new.target.prototype)}}class Z extends Error{constructor(t){super(t),Object.setPrototypeOf(this,new.target.prototype)}}class ee extends Error{constructor(t){super(t),Object.setPrototypeOf(this,new.target.prototype)}}class W extends Error{constructor(t,s){super(s),this.status=t,Object.setPrototypeOf(this,new.target.prototype)}}var de=function(i,t,s,c,f){const C=F.createXHR();C.open("POST",s.endpoint,!0),C.setRequestHeader("Content-Type","application/x-www-form-urlencoded");for(var P in s.headers)C.setRequestHeader(P,s.headers[P]);if(s.headersProvider!=null){let D=s.headersProvider();for(var P in D)C.setRequestHeader(P,D[P])}return C.onreadystatechange=function(){if(C.readyState===4)if(C.status===200){let D,I=!1;try{D=JSON.parse(C.responseText),I=!0}catch{f(new W(200,`JSON returned from ${c.toString()} endpoint was invalid, yet status code was 200. Data was: ${C.responseText}`),null)}I&&f(null,D)}else{let D="";switch(c){case _.UserAuthentication:D=S.buildLogSuffix("authenticationEndpoint");break;case _.ChannelAuthorization:D=`Clients must be authorized to join private or presence channels. ${S.buildLogSuffix("authorizationEndpoint")}`;break}f(new W(C.status,`Unable to retrieve auth string from ${c.toString()} endpoint - received status: ${C.status} from ${s.endpoint}. ${D}`),null)}},C.send(t),C};function Ke(i){return Ge(Oe(i))}var we=String.fromCharCode,ye="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Se=function(i){var t=i.charCodeAt(0);return t<128?i:t<2048?we(192|t>>>6)+we(128|t&63):we(224|t>>>12&15)+we(128|t>>>6&63)+we(128|t&63)},Oe=function(i){return i.replace(/[^\x00-\x7F]/g,Se)},me=function(i){var t=[0,2,1][i.length%3],s=i.charCodeAt(0)<<16|(i.length>1?i.charCodeAt(1):0)<<8|(i.length>2?i.charCodeAt(2):0),c=[ye.charAt(s>>>18),ye.charAt(s>>>12&63),t>=2?"=":ye.charAt(s>>>6&63),t>=1?"=":ye.charAt(s&63)];return c.join("")},Ge=window.btoa||function(i){return i.replace(/[\s\S]{1,3}/g,me)};class ge{constructor(t,s,c,f){this.clear=s,this.timer=t(()=>{this.timer&&(this.timer=f(this.timer))},c)}isRunning(){return this.timer!==null}ensureAborted(){this.timer&&(this.clear(this.timer),this.timer=null)}}var Le=ge;function rt(i){window.clearTimeout(i)}function Ce(i){window.clearInterval(i)}class ce extends Le{constructor(t,s){super(setTimeout,rt,t,function(c){return s(),null})}}class Fe extends Le{constructor(t,s){super(setInterval,Ce,t,function(c){return s(),c})}}var Ne={now(){return Date.now?Date.now():new Date().valueOf()},defer(i){return new ce(0,i)},method(i,...t){var s=Array.prototype.slice.call(arguments,1);return function(c){return c[i].apply(c,s.concat(arguments))}}},te=Ne;function oe(i,...t){for(var s=0;s<t.length;s++){var c=t[s];for(var f in c)c[f]&&c[f].constructor&&c[f].constructor===Object?i[f]=oe(i[f]||{},c[f]):i[f]=c[f]}return i}function St(){for(var i=["Pusher"],t=0;t<arguments.length;t++)typeof arguments[t]=="string"?i.push(arguments[t]):i.push(K(arguments[t]));return i.join(" : ")}function Te(i,t){var s=Array.prototype.indexOf;if(i===null)return-1;if(s&&i.indexOf===s)return i.indexOf(t);for(var c=0,f=i.length;c<f;c++)if(i[c]===t)return c;return-1}function _e(i,t){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&t(i[s],s,i)}function st(i){var t=[];return _e(i,function(s,c){t.push(c)}),t}function Yt(i){var t=[];return _e(i,function(s){t.push(s)}),t}function He(i,t,s){for(var c=0;c<i.length;c++)t.call(s||window,i[c],c,i)}function Ct(i,t){for(var s=[],c=0;c<i.length;c++)s.push(t(i[c],c,i,s));return s}function it(i,t){var s={};return _e(i,function(c,f){s[f]=t(c)}),s}function Qe(i,t){t=t||function(f){return!!f};for(var s=[],c=0;c<i.length;c++)t(i[c],c,i,s)&&s.push(i[c]);return s}function _t(i,t){var s={};return _e(i,function(c,f){(t&&t(c,f,i,s)||c)&&(s[f]=c)}),s}function Zt(i){var t=[];return _e(i,function(s,c){t.push([c,s])}),t}function xt(i,t){for(var s=0;s<i.length;s++)if(t(i[s],s,i))return!0;return!1}function Et(i,t){for(var s=0;s<i.length;s++)if(!t(i[s],s,i))return!1;return!0}function ot(i){return it(i,function(t){return typeof t=="object"&&(t=K(t)),encodeURIComponent(Ke(t.toString()))})}function en(i){var t=_t(i,function(c){return c!==void 0}),s=Ct(Zt(ot(t)),te.method("join","=")).join("&");return s}function Be(i){var t=[],s=[];return(function c(f,C){var P,D,I;switch(typeof f){case"object":if(!f)return null;for(P=0;P<t.length;P+=1)if(t[P]===f)return{$ref:s[P]};if(t.push(f),s.push(C),Object.prototype.toString.apply(f)==="[object Array]")for(I=[],P=0;P<f.length;P+=1)I[P]=c(f[P],C+"["+P+"]");else{I={};for(D in f)Object.prototype.hasOwnProperty.call(f,D)&&(I[D]=c(f[D],C+"["+JSON.stringify(D)+"]"))}return I;case"number":case"string":case"boolean":return f}})(i,"$")}function K(i){try{return JSON.stringify(i)}catch{return JSON.stringify(Be(i))}}class Ye{constructor(){this.globalLog=t=>{window.console&&window.console.log&&window.console.log(t)}}debug(...t){this.log(this.globalLog,t)}warn(...t){this.log(this.globalLogWarn,t)}error(...t){this.log(this.globalLogError,t)}globalLogWarn(t){window.console&&window.console.warn?window.console.warn(t):this.globalLog(t)}globalLogError(t){window.console&&window.console.error?window.console.error(t):this.globalLogWarn(t)}log(t,...s){var c=St.apply(this,arguments);hn.log?hn.log(c):hn.logToConsole&&t.bind(this)(c)}}var X=new Ye,kt=function(i,t,s,c,f){(s.headers!==void 0||s.headersProvider!=null)&&X.warn(`To send headers with the ${c.toString()} request, you must use AJAX, rather than JSONP.`);var C=i.nextAuthCallbackID.toString();i.nextAuthCallbackID++;var P=i.getDocument(),D=P.createElement("script");i.auth_callbacks[C]=function(J){f(null,J)};var I="Pusher.auth_callbacks['"+C+"']";D.src=s.endpoint+"?callback="+encodeURIComponent(I)+"&"+t;var z=P.getElementsByTagName("head")[0]||P.documentElement;z.insertBefore(D,z.firstChild)},Tt=kt;class tn{constructor(t){this.src=t}send(t){var s=this,c="Error loading "+s.src;s.script=document.createElement("script"),s.script.id=t.id,s.script.src=s.src,s.script.type="text/javascript",s.script.charset="UTF-8",s.script.addEventListener?(s.script.onerror=function(){t.callback(c)},s.script.onload=function(){t.callback(null)}):s.script.onreadystatechange=function(){(s.script.readyState==="loaded"||s.script.readyState==="complete")&&t.callback(null)},s.script.async===void 0&&document.attachEvent&&/opera/i.test(navigator.userAgent)?(s.errorScript=document.createElement("script"),s.errorScript.id=t.id+"_error",s.errorScript.text=t.name+"('"+c+"');",s.script.async=s.errorScript.async=!1):s.script.async=!0;var f=document.getElementsByTagName("head")[0];f.insertBefore(s.script,f.firstChild),s.errorScript&&f.insertBefore(s.errorScript,s.script.nextSibling)}cleanup(){this.script&&(this.script.onload=this.script.onerror=null,this.script.onreadystatechange=null),this.script&&this.script.parentNode&&this.script.parentNode.removeChild(this.script),this.errorScript&&this.errorScript.parentNode&&this.errorScript.parentNode.removeChild(this.errorScript),this.script=null,this.errorScript=null}}class at{constructor(t,s){this.url=t,this.data=s}send(t){if(!this.request){var s=en(this.data),c=this.url+"/"+t.number+"?"+s;this.request=F.createScriptRequest(c),this.request.send(t)}}cleanup(){this.request&&this.request.cleanup()}}var Ae=function(i,t){return function(s,c){var f="http"+(t?"s":"")+"://",C=f+(i.host||i.options.host)+i.options.path,P=F.createJSONPRequest(C,s),D=F.ScriptReceivers.create(function(I,z){u.remove(D),P.cleanup(),z&&z.host&&(i.host=z.host),c&&c(I,z)});P.send(D)}},Me={name:"jsonp",getAgent:Ae},Pt=Me;function De(i,t,s){var c=i+(t.useTLS?"s":""),f=t.useTLS?t.hostTLS:t.hostNonTLS;return c+"://"+f+s}function ct(i,t){var s="/app/"+i,c="?protocol="+y.PROTOCOL+"&client=js&version="+y.VERSION+(t?"&"+t:"");return s+c}var nn={getInitial:function(i,t){var s=(t.httpPath||"")+ct(i,"flash=false");return De("ws",t,s)}},At={getInitial:function(i,t){var s=(t.httpPath||"/pusher")+ct(i);return De("http",t,s)}},rn={getInitial:function(i,t){return De("http",t,t.httpPath||"/pusher")},getPath:function(i,t){return ct(i)}};class Rt{constructor(){this._callbacks={}}get(t){return this._callbacks[ut(t)]}add(t,s,c){var f=ut(t);this._callbacks[f]=this._callbacks[f]||[],this._callbacks[f].push({fn:s,context:c})}remove(t,s,c){if(!t&&!s&&!c){this._callbacks={};return}var f=t?[ut(t)]:st(this._callbacks);s||c?this.removeCallback(f,s,c):this.removeAllCallbacks(f)}removeCallback(t,s,c){He(t,function(f){this._callbacks[f]=Qe(this._callbacks[f]||[],function(C){return s&&s!==C.fn||c&&c!==C.context}),this._callbacks[f].length===0&&delete this._callbacks[f]},this)}removeAllCallbacks(t){He(t,function(s){delete this._callbacks[s]},this)}}function ut(i){return"_"+i}class xe{constructor(t){this.callbacks=new Rt,this.global_callbacks=[],this.failThrough=t}bind(t,s,c){return this.callbacks.add(t,s,c),this}bind_global(t){return this.global_callbacks.push(t),this}unbind(t,s,c){return this.callbacks.remove(t,s,c),this}unbind_global(t){return t?(this.global_callbacks=Qe(this.global_callbacks||[],s=>s!==t),this):(this.global_callbacks=[],this)}unbind_all(){return this.unbind(),this.unbind_global(),this}emit(t,s,c){for(var f=0;f<this.global_callbacks.length;f++)this.global_callbacks[f](t,s);var C=this.callbacks.get(t),P=[];if(c?P.push(s,c):s&&P.push(s),C&&C.length>0)for(var f=0;f<C.length;f++)C[f].fn.apply(C[f].context||window,P);else this.failThrough&&this.failThrough(t,s);return this}}class Ot extends xe{constructor(t,s,c,f,C){super(),this.initialize=F.transportConnectionInitializer,this.hooks=t,this.name=s,this.priority=c,this.key=f,this.options=C,this.state="new",this.timeline=C.timeline,this.activityTimeout=C.activityTimeout,this.id=this.timeline.generateUniqueID()}handlesActivityChecks(){return!!this.hooks.handlesActivityChecks}supportsPing(){return!!this.hooks.supportsPing}connect(){if(this.socket||this.state!=="initialized")return!1;var t=this.hooks.urls.getInitial(this.key,this.options);try{this.socket=this.hooks.getSocket(t,this.options)}catch(s){return te.defer(()=>{this.onError(s),this.changeState("closed")}),!1}return this.bindListeners(),X.debug("Connecting",{transport:this.name,url:t}),this.changeState("connecting"),!0}close(){return this.socket?(this.socket.close(),!0):!1}send(t){return this.state==="open"?(te.defer(()=>{this.socket&&this.socket.send(t)}),!0):!1}ping(){this.state==="open"&&this.supportsPing()&&this.socket.ping()}onOpen(){this.hooks.beforeOpen&&this.hooks.beforeOpen(this.socket,this.hooks.urls.getPath(this.key,this.options)),this.changeState("open"),this.socket.onopen=void 0}onError(t){this.emit("error",{type:"WebSocketError",error:t}),this.timeline.error(this.buildTimelineMessage({error:t.toString()}))}onClose(t){t?this.changeState("closed",{code:t.code,reason:t.reason,wasClean:t.wasClean}):this.changeState("closed"),this.unbindListeners(),this.socket=void 0}onMessage(t){this.emit("message",t)}onActivity(){this.emit("activity")}bindListeners(){this.socket.onopen=()=>{this.onOpen()},this.socket.onerror=t=>{this.onError(t)},this.socket.onclose=t=>{this.onClose(t)},this.socket.onmessage=t=>{this.onMessage(t)},this.supportsPing()&&(this.socket.onactivity=()=>{this.onActivity()})}unbindListeners(){this.socket&&(this.socket.onopen=void 0,this.socket.onerror=void 0,this.socket.onclose=void 0,this.socket.onmessage=void 0,this.supportsPing()&&(this.socket.onactivity=void 0))}changeState(t,s){this.state=t,this.timeline.info(this.buildTimelineMessage({state:t,params:s})),this.emit(t,s)}buildTimelineMessage(t){return oe({cid:this.id},t)}}class Ue{constructor(t){this.hooks=t}isSupported(t){return this.hooks.isSupported(t)}createConnection(t,s,c,f){return new Ot(this.hooks,t,s,c,f)}}var sn=new Ue({urls:nn,handlesActivityChecks:!1,supportsPing:!1,isInitialized:function(){return!!F.getWebSocketAPI()},isSupported:function(){return!!F.getWebSocketAPI()},getSocket:function(i){return F.createWebSocket(i)}}),qe={urls:At,handlesActivityChecks:!1,supportsPing:!0,isInitialized:function(){return!0}},h=oe({getSocket:function(i){return F.HTTPFactory.createStreamingSocket(i)}},qe),d=oe({getSocket:function(i){return F.HTTPFactory.createPollingSocket(i)}},qe),p={isSupported:function(){return F.isXHRSupported()}},E=new Ue(oe({},h,p)),A=new Ue(oe({},d,p)),R={ws:sn,xhr_streaming:E,xhr_polling:A},U=R,L=new Ue({file:"sockjs",urls:rn,handlesActivityChecks:!0,supportsPing:!1,isSupported:function(){return!0},isInitialized:function(){return window.SockJS!==void 0},getSocket:function(i,t){return new window.SockJS(i,null,{js_path:x.getPath("sockjs",{useTLS:t.useTLS}),ignore_null_origin:t.ignoreNullOrigin})},beforeOpen:function(i,t){i.send(JSON.stringify({path:t}))}}),V={isSupported:function(i){var t=F.isXDRSupported(i.useTLS);return t}},$=new Ue(oe({},h,V)),G=new Ue(oe({},d,V));U.xdr_streaming=$,U.xdr_polling=G,U.sockjs=L;var Q=U;class q extends xe{constructor(){super();var t=this;window.addEventListener!==void 0&&(window.addEventListener("online",function(){t.emit("online")},!1),window.addEventListener("offline",function(){t.emit("offline")},!1))}isOnline(){return window.navigator.onLine===void 0?!0:window.navigator.onLine}}var re=new q;class ae{constructor(t,s,c){this.manager=t,this.transport=s,this.minPingDelay=c.minPingDelay,this.maxPingDelay=c.maxPingDelay,this.pingDelay=void 0}createConnection(t,s,c,f){f=oe({},f,{activityTimeout:this.pingDelay});var C=this.transport.createConnection(t,s,c,f),P=null,D=function(){C.unbind("open",D),C.bind("closed",I),P=te.now()},I=z=>{if(C.unbind("closed",I),z.code===1002||z.code===1003)this.manager.reportDeath();else if(!z.wasClean&&P){var J=te.now()-P;J<2*this.maxPingDelay&&(this.manager.reportDeath(),this.pingDelay=Math.max(J/2,this.minPingDelay))}};return C.bind("open",D),C}isSupported(t){return this.manager.isAlive()&&this.transport.isSupported(t)}}const se={decodeMessage:function(i){try{var t=JSON.parse(i.data),s=t.data;if(typeof s=="string")try{s=JSON.parse(t.data)}catch{}var c={event:t.event,channel:t.channel,data:s};return t.user_id&&(c.user_id=t.user_id),c}catch(f){throw{type:"MessageParseError",error:f,data:i.data}}},encodeMessage:function(i){return JSON.stringify(i)},processHandshake:function(i){var t=se.decodeMessage(i);if(t.event==="pusher:connection_established"){if(!t.data.activity_timeout)throw"No activity timeout specified in handshake";return{action:"connected",id:t.data.socket_id,activityTimeout:t.data.activity_timeout*1e3}}else{if(t.event==="pusher:error")return{action:this.getCloseAction(t.data),error:this.getCloseError(t.data)};throw"Invalid handshake"}},getCloseAction:function(i){return i.code<4e3?i.code>=1002&&i.code<=1004?"backoff":null:i.code===4e3?"tls_only":i.code<4100?"refused":i.code<4200?"backoff":i.code<4300?"retry":"refused"},getCloseError:function(i){return i.code!==1e3&&i.code!==1001?{type:"PusherError",data:{code:i.code,message:i.reason||i.message}}:null}};var Y=se;class lt extends xe{constructor(t,s){super(),this.id=t,this.transport=s,this.activityTimeout=s.activityTimeout,this.bindListeners()}handlesActivityChecks(){return this.transport.handlesActivityChecks()}send(t){return this.transport.send(t)}send_event(t,s,c){var f={event:t,data:s};return c&&(f.channel=c),X.debug("Event sent",f),this.send(Y.encodeMessage(f))}ping(){this.transport.supportsPing()?this.transport.ping():this.send_event("pusher:ping",{})}close(){this.transport.close()}bindListeners(){var t={message:c=>{var f;try{f=Y.decodeMessage(c)}catch(C){this.emit("error",{type:"MessageParseError",error:C,data:c.data})}if(f!==void 0){switch(X.debug("Event recd",f),f.event){case"pusher:error":this.emit("error",{type:"PusherError",data:f.data});break;case"pusher:ping":this.emit("ping");break;case"pusher:pong":this.emit("pong");break}this.emit("message",f)}},activity:()=>{this.emit("activity")},error:c=>{this.emit("error",c)},closed:c=>{s(),c&&c.code&&this.handleCloseEvent(c),this.transport=null,this.emit("closed")}},s=()=>{_e(t,(c,f)=>{this.transport.unbind(f,c)})};_e(t,(c,f)=>{this.transport.bind(f,c)})}handleCloseEvent(t){var s=Y.getCloseAction(t),c=Y.getCloseError(t);c&&this.emit("error",c),s&&this.emit(s,{action:s,error:c})}}class ht{constructor(t,s){this.transport=t,this.callback=s,this.bindListeners()}close(){this.unbindListeners(),this.transport.close()}bindListeners(){this.onMessage=t=>{this.unbindListeners();var s;try{s=Y.processHandshake(t)}catch(c){this.finish("error",{error:c}),this.transport.close();return}s.action==="connected"?this.finish("connected",{connection:new lt(s.id,this.transport),activityTimeout:s.activityTimeout}):(this.finish(s.action,{error:s.error}),this.transport.close())},this.onClosed=t=>{this.unbindListeners();var s=Y.getCloseAction(t)||"backoff",c=Y.getCloseError(t);this.finish(s,{error:c})},this.transport.bind("message",this.onMessage),this.transport.bind("closed",this.onClosed)}unbindListeners(){this.transport.unbind("message",this.onMessage),this.transport.unbind("closed",this.onClosed)}finish(t,s){this.callback(oe({transport:this.transport,action:t},s))}}class ft{constructor(t,s){this.timeline=t,this.options=s||{}}send(t,s){this.timeline.isEmpty()||this.timeline.send(F.TimelineTransport.getAgent(this,t),s)}}class Ze extends xe{constructor(t,s){super(function(c,f){X.debug("No callbacks on "+t+" for "+c)}),this.name=t,this.pusher=s,this.subscribed=!1,this.subscriptionPending=!1,this.subscriptionCancelled=!1}authorize(t,s){return s(null,{auth:""})}trigger(t,s){if(t.indexOf("client-")!==0)throw new g("Event '"+t+"' does not start with 'client-'");if(!this.subscribed){var c=S.buildLogSuffix("triggeringClientEvents");X.warn(`Client event triggered before channel 'subscription_succeeded' event . ${c}`)}return this.pusher.send_event(t,s,this.name)}disconnect(){this.subscribed=!1,this.subscriptionPending=!1}handleEvent(t){var s=t.event,c=t.data;if(s==="pusher_internal:subscription_succeeded")this.handleSubscriptionSucceededEvent(t);else if(s==="pusher_internal:subscription_count")this.handleSubscriptionCountEvent(t);else if(s.indexOf("pusher_internal:")!==0){var f={};this.emit(s,c,f)}}handleSubscriptionSucceededEvent(t){this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):this.emit("pusher:subscription_succeeded",t.data)}handleSubscriptionCountEvent(t){t.data.subscription_count&&(this.subscriptionCount=t.data.subscription_count),this.emit("pusher:subscription_count",t.data)}subscribe(){this.subscribed||(this.subscriptionPending=!0,this.subscriptionCancelled=!1,this.authorize(this.pusher.connection.socket_id,(t,s)=>{t?(this.subscriptionPending=!1,X.error(t.toString()),this.emit("pusher:subscription_error",Object.assign({},{type:"AuthError",error:t.message},t instanceof W?{status:t.status}:{}))):this.pusher.send_event("pusher:subscribe",{auth:s.auth,channel_data:s.channel_data,channel:this.name})}))}unsubscribe(){this.subscribed=!1,this.pusher.send_event("pusher:unsubscribe",{channel:this.name})}cancelSubscription(){this.subscriptionCancelled=!0}reinstateSubscription(){this.subscriptionCancelled=!1}}class ze extends Ze{authorize(t,s){return this.pusher.config.channelAuthorizer({channelName:this.name,socketId:t},s)}}class Lt{constructor(){this.reset()}get(t){return Object.prototype.hasOwnProperty.call(this.members,t)?{id:t,info:this.members[t]}:null}each(t){_e(this.members,(s,c)=>{t(this.get(c))})}setMyID(t){this.myID=t}onSubscription(t){this.members=t.presence.hash,this.count=t.presence.count,this.me=this.get(this.myID)}addMember(t){return this.get(t.user_id)===null&&this.count++,this.members[t.user_id]=t.user_info,this.get(t.user_id)}removeMember(t){var s=this.get(t.user_id);return s&&(delete this.members[t.user_id],this.count--),s}reset(){this.members={},this.count=0,this.myID=null,this.me=null}}var Nt=function(i,t,s,c){function f(C){return C instanceof s?C:new s(function(P){P(C)})}return new(s||(s=Promise))(function(C,P){function D(J){try{z(c.next(J))}catch(ie){P(ie)}}function I(J){try{z(c.throw(J))}catch(ie){P(ie)}}function z(J){J.done?C(J.value):f(J.value).then(D,I)}z((c=c.apply(i,t||[])).next())})};class Zr extends ze{constructor(t,s){super(t,s),this.members=new Lt}authorize(t,s){super.authorize(t,(c,f)=>Nt(this,void 0,void 0,function*(){if(!c)if(f=f,f.channel_data!=null){var C=JSON.parse(f.channel_data);this.members.setMyID(C.user_id)}else if(yield this.pusher.user.signinDonePromise,this.pusher.user.user_data!=null)this.members.setMyID(this.pusher.user.user_data.id);else{let P=S.buildLogSuffix("authorizationEndpoint");X.error(`Invalid auth response for channel '${this.name}', expected 'channel_data' field. ${P}, or the user should be signed in.`),s("Invalid auth response");return}s(c,f)}))}handleEvent(t){var s=t.event;if(s.indexOf("pusher_internal:")===0)this.handleInternalEvent(t);else{var c=t.data,f={};t.user_id&&(f.user_id=t.user_id),this.emit(s,c,f)}}handleInternalEvent(t){var s=t.event,c=t.data;switch(s){case"pusher_internal:subscription_succeeded":this.handleSubscriptionSucceededEvent(t);break;case"pusher_internal:subscription_count":this.handleSubscriptionCountEvent(t);break;case"pusher_internal:member_added":var f=this.members.addMember(c);this.emit("pusher:member_added",f);break;case"pusher_internal:member_removed":var C=this.members.removeMember(c);C&&this.emit("pusher:member_removed",C);break}}handleSubscriptionSucceededEvent(t){this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):(this.members.onSubscription(t.data),this.emit("pusher:subscription_succeeded",this.members))}disconnect(){this.members.reset(),super.disconnect()}}var es=a(1),on=a(0);class ts extends ze{constructor(t,s,c){super(t,s),this.key=null,this.nacl=c}authorize(t,s){super.authorize(t,(c,f)=>{if(c){s(c,f);return}let C=f.shared_secret;if(!C){s(new Error(`No shared_secret key in auth payload for encrypted channel: ${this.name}`),null);return}this.key=Object(on.decode)(C),delete f.shared_secret,s(null,f)})}trigger(t,s){throw new M("Client events are not currently supported for encrypted channels")}handleEvent(t){var s=t.event,c=t.data;if(s.indexOf("pusher_internal:")===0||s.indexOf("pusher:")===0){super.handleEvent(t);return}this.handleEncryptedEvent(s,c)}handleEncryptedEvent(t,s){if(!this.key){X.debug("Received encrypted event before key has been retrieved from the authEndpoint");return}if(!s.ciphertext||!s.nonce){X.error("Unexpected format for encrypted event, expected object with `ciphertext` and `nonce` fields, got: "+s);return}let c=Object(on.decode)(s.ciphertext);if(c.length<this.nacl.secretbox.overheadLength){X.error(`Expected encrypted event ciphertext length to be ${this.nacl.secretbox.overheadLength}, got: ${c.length}`);return}let f=Object(on.decode)(s.nonce);if(f.length<this.nacl.secretbox.nonceLength){X.error(`Expected encrypted event nonce length to be ${this.nacl.secretbox.nonceLength}, got: ${f.length}`);return}let C=this.nacl.secretbox.open(c,f,this.key);if(C===null){X.debug("Failed to decrypt an event, probably because it was encrypted with a different key. Fetching a new key from the authEndpoint..."),this.authorize(this.pusher.connection.socket_id,(P,D)=>{if(P){X.error(`Failed to make a request to the authEndpoint: ${D}. Unable to fetch new key, so dropping encrypted event`);return}if(C=this.nacl.secretbox.open(c,f,this.key),C===null){X.error("Failed to decrypt event with new key. Dropping encrypted event");return}this.emit(t,this.getDataToEmit(C))});return}this.emit(t,this.getDataToEmit(C))}getDataToEmit(t){let s=Object(es.decode)(t);try{return JSON.parse(s)}catch{return s}}}class ns extends xe{constructor(t,s){super(),this.state="initialized",this.connection=null,this.key=t,this.options=s,this.timeline=this.options.timeline,this.usingTLS=this.options.useTLS,this.errorCallbacks=this.buildErrorCallbacks(),this.connectionCallbacks=this.buildConnectionCallbacks(this.errorCallbacks),this.handshakeCallbacks=this.buildHandshakeCallbacks(this.errorCallbacks);var c=F.getNetwork();c.bind("online",()=>{this.timeline.info({netinfo:"online"}),(this.state==="connecting"||this.state==="unavailable")&&this.retryIn(0)}),c.bind("offline",()=>{this.timeline.info({netinfo:"offline"}),this.connection&&this.sendActivityCheck()}),this.updateStrategy()}connect(){if(!(this.connection||this.runner)){if(!this.strategy.isSupported()){this.updateState("failed");return}this.updateState("connecting"),this.startConnecting(),this.setUnavailableTimer()}}send(t){return this.connection?this.connection.send(t):!1}send_event(t,s,c){return this.connection?this.connection.send_event(t,s,c):!1}disconnect(){this.disconnectInternally(),this.updateState("disconnected")}isUsingTLS(){return this.usingTLS}startConnecting(){var t=(s,c)=>{s?this.runner=this.strategy.connect(0,t):c.action==="error"?(this.emit("error",{type:"HandshakeError",error:c.error}),this.timeline.error({handshakeError:c.error})):(this.abortConnecting(),this.handshakeCallbacks[c.action](c))};this.runner=this.strategy.connect(0,t)}abortConnecting(){this.runner&&(this.runner.abort(),this.runner=null)}disconnectInternally(){if(this.abortConnecting(),this.clearRetryTimer(),this.clearUnavailableTimer(),this.connection){var t=this.abandonConnection();t.close()}}updateStrategy(){this.strategy=this.options.getStrategy({key:this.key,timeline:this.timeline,useTLS:this.usingTLS})}retryIn(t){this.timeline.info({action:"retry",delay:t}),t>0&&this.emit("connecting_in",Math.round(t/1e3)),this.retryTimer=new ce(t||0,()=>{this.disconnectInternally(),this.connect()})}clearRetryTimer(){this.retryTimer&&(this.retryTimer.ensureAborted(),this.retryTimer=null)}setUnavailableTimer(){this.unavailableTimer=new ce(this.options.unavailableTimeout,()=>{this.updateState("unavailable")})}clearUnavailableTimer(){this.unavailableTimer&&this.unavailableTimer.ensureAborted()}sendActivityCheck(){this.stopActivityCheck(),this.connection.ping(),this.activityTimer=new ce(this.options.pongTimeout,()=>{this.timeline.error({pong_timed_out:this.options.pongTimeout}),this.retryIn(0)})}resetActivityCheck(){this.stopActivityCheck(),this.connection&&!this.connection.handlesActivityChecks()&&(this.activityTimer=new ce(this.activityTimeout,()=>{this.sendActivityCheck()}))}stopActivityCheck(){this.activityTimer&&this.activityTimer.ensureAborted()}buildConnectionCallbacks(t){return oe({},t,{message:s=>{this.resetActivityCheck(),this.emit("message",s)},ping:()=>{this.send_event("pusher:pong",{})},activity:()=>{this.resetActivityCheck()},error:s=>{this.emit("error",s)},closed:()=>{this.abandonConnection(),this.shouldRetry()&&this.retryIn(1e3)}})}buildHandshakeCallbacks(t){return oe({},t,{connected:s=>{this.activityTimeout=Math.min(this.options.activityTimeout,s.activityTimeout,s.connection.activityTimeout||1/0),this.clearUnavailableTimer(),this.setConnection(s.connection),this.socket_id=this.connection.id,this.updateState("connected",{socket_id:this.socket_id})}})}buildErrorCallbacks(){let t=s=>c=>{c.error&&this.emit("error",{type:"WebSocketError",error:c.error}),s(c)};return{tls_only:t(()=>{this.usingTLS=!0,this.updateStrategy(),this.retryIn(0)}),refused:t(()=>{this.disconnect()}),backoff:t(()=>{this.retryIn(1e3)}),retry:t(()=>{this.retryIn(0)})}}setConnection(t){this.connection=t;for(var s in this.connectionCallbacks)this.connection.bind(s,this.connectionCallbacks[s]);this.resetActivityCheck()}abandonConnection(){if(this.connection){this.stopActivityCheck();for(var t in this.connectionCallbacks)this.connection.unbind(t,this.connectionCallbacks[t]);var s=this.connection;return this.connection=null,s}}updateState(t,s){var c=this.state;if(this.state=t,c!==t){var f=t;f==="connected"&&(f+=" with new socket ID "+s.socket_id),X.debug("State changed",c+" -> "+f),this.timeline.info({state:t,params:s}),this.emit("state_change",{previous:c,current:t}),this.emit(t,s)}}shouldRetry(){return this.state==="connecting"||this.state==="connected"}}class rs{constructor(){this.channels={}}add(t,s){return this.channels[t]||(this.channels[t]=ss(t,s)),this.channels[t]}all(){return Yt(this.channels)}find(t){return this.channels[t]}remove(t){var s=this.channels[t];return delete this.channels[t],s}disconnect(){_e(this.channels,function(t){t.disconnect()})}}function ss(i,t){if(i.indexOf("private-encrypted-")===0){if(t.config.nacl)return Re.createEncryptedChannel(i,t,t.config.nacl);let s="Tried to subscribe to a private-encrypted- channel but no nacl implementation available",c=S.buildLogSuffix("encryptedChannelSupport");throw new M(`${s}. ${c}`)}else{if(i.indexOf("private-")===0)return Re.createPrivateChannel(i,t);if(i.indexOf("presence-")===0)return Re.createPresenceChannel(i,t);if(i.indexOf("#")===0)throw new k('Cannot create a channel with name "'+i+'".');return Re.createChannel(i,t)}}var is={createChannels(){return new rs},createConnectionManager(i,t){return new ns(i,t)},createChannel(i,t){return new Ze(i,t)},createPrivateChannel(i,t){return new ze(i,t)},createPresenceChannel(i,t){return new Zr(i,t)},createEncryptedChannel(i,t,s){return new ts(i,t,s)},createTimelineSender(i,t){return new ft(i,t)},createHandshake(i,t){return new ht(i,t)},createAssistantToTheTransportManager(i,t,s){return new ae(i,t,s)}},Re=is;class Ln{constructor(t){this.options=t||{},this.livesLeft=this.options.lives||1/0}getAssistant(t){return Re.createAssistantToTheTransportManager(this,t,{minPingDelay:this.options.minPingDelay,maxPingDelay:this.options.maxPingDelay})}isAlive(){return this.livesLeft>0}reportDeath(){this.livesLeft-=1}}class Ve{constructor(t,s){this.strategies=t,this.loop=!!s.loop,this.failFast=!!s.failFast,this.timeout=s.timeout,this.timeoutLimit=s.timeoutLimit}isSupported(){return xt(this.strategies,te.method("isSupported"))}connect(t,s){var c=this.strategies,f=0,C=this.timeout,P=null,D=(I,z)=>{z?s(null,z):(f=f+1,this.loop&&(f=f%c.length),f<c.length?(C&&(C=C*2,this.timeoutLimit&&(C=Math.min(C,this.timeoutLimit))),P=this.tryStrategy(c[f],t,{timeout:C,failFast:this.failFast},D)):s(!0))};return P=this.tryStrategy(c[f],t,{timeout:C,failFast:this.failFast},D),{abort:function(){P.abort()},forceMinPriority:function(I){t=I,P&&P.forceMinPriority(I)}}}tryStrategy(t,s,c,f){var C=null,P=null;return c.timeout>0&&(C=new ce(c.timeout,function(){P.abort(),f(!0)})),P=t.connect(s,function(D,I){D&&C&&C.isRunning()&&!c.failFast||(C&&C.ensureAborted(),f(D,I))}),{abort:function(){C&&C.ensureAborted(),P.abort()},forceMinPriority:function(D){P.forceMinPriority(D)}}}}class an{constructor(t){this.strategies=t}isSupported(){return xt(this.strategies,te.method("isSupported"))}connect(t,s){return os(this.strategies,t,function(c,f){return function(C,P){if(f[c].error=C,C){as(f)&&s(!0);return}He(f,function(D){D.forceMinPriority(P.transport.priority)}),s(null,P)}})}}function os(i,t,s){var c=Ct(i,function(f,C,P,D){return f.connect(t,s(C,D))});return{abort:function(){He(c,cs)},forceMinPriority:function(f){He(c,function(C){C.forceMinPriority(f)})}}}function as(i){return Et(i,function(t){return!!t.error})}function cs(i){!i.error&&!i.aborted&&(i.abort(),i.aborted=!0)}class us{constructor(t,s,c){this.strategy=t,this.transports=s,this.ttl=c.ttl||1800*1e3,this.usingTLS=c.useTLS,this.timeline=c.timeline}isSupported(){return this.strategy.isSupported()}connect(t,s){var c=this.usingTLS,f=ls(c),C=f&&f.cacheSkipCount?f.cacheSkipCount:0,P=[this.strategy];if(f&&f.timestamp+this.ttl>=te.now()){var D=this.transports[f.transport];D&&(["ws","wss"].includes(f.transport)||C>3?(this.timeline.info({cached:!0,transport:f.transport,latency:f.latency}),P.push(new Ve([D],{timeout:f.latency*2+1e3,failFast:!0}))):C++)}var I=te.now(),z=P.pop().connect(t,function J(ie,jt){ie?(Nn(c),P.length>0?(I=te.now(),z=P.pop().connect(t,J)):s(ie)):(hs(c,jt.transport.name,te.now()-I,C),s(null,jt))});return{abort:function(){z.abort()},forceMinPriority:function(J){t=J,z&&z.forceMinPriority(J)}}}}function cn(i){return"pusherTransport"+(i?"TLS":"NonTLS")}function ls(i){var t=F.getLocalStorage();if(t)try{var s=t[cn(i)];if(s)return JSON.parse(s)}catch{Nn(i)}return null}function hs(i,t,s,c){var f=F.getLocalStorage();if(f)try{f[cn(i)]=K({timestamp:te.now(),transport:t,latency:s,cacheSkipCount:c})}catch{}}function Nn(i){var t=F.getLocalStorage();if(t)try{delete t[cn(i)]}catch{}}class Dt{constructor(t,{delay:s}){this.strategy=t,this.options={delay:s}}isSupported(){return this.strategy.isSupported()}connect(t,s){var c=this.strategy,f,C=new ce(this.options.delay,function(){f=c.connect(t,s)});return{abort:function(){C.ensureAborted(),f&&f.abort()},forceMinPriority:function(P){t=P,f&&f.forceMinPriority(P)}}}}class dt{constructor(t,s,c){this.test=t,this.trueBranch=s,this.falseBranch=c}isSupported(){var t=this.test()?this.trueBranch:this.falseBranch;return t.isSupported()}connect(t,s){var c=this.test()?this.trueBranch:this.falseBranch;return c.connect(t,s)}}class fs{constructor(t){this.strategy=t}isSupported(){return this.strategy.isSupported()}connect(t,s){var c=this.strategy.connect(t,function(f,C){C&&c.abort(),s(f,C)});return c}}function pt(i){return function(){return i.isSupported()}}var ds=function(i,t,s){var c={};function f(Vn,fi,di,pi,mi){var $n=s(i,Vn,fi,di,pi,mi);return c[Vn]=$n,$n}var C=Object.assign({},t,{hostNonTLS:i.wsHost+":"+i.wsPort,hostTLS:i.wsHost+":"+i.wssPort,httpPath:i.wsPath}),P=Object.assign({},C,{useTLS:!0}),D=Object.assign({},t,{hostNonTLS:i.httpHost+":"+i.httpPort,hostTLS:i.httpHost+":"+i.httpsPort,httpPath:i.httpPath}),I={loop:!0,timeout:15e3,timeoutLimit:6e4},z=new Ln({minPingDelay:1e4,maxPingDelay:i.activityTimeout}),J=new Ln({lives:2,minPingDelay:1e4,maxPingDelay:i.activityTimeout}),ie=f("ws","ws",3,C,z),jt=f("wss","ws",3,P,z),ai=f("sockjs","sockjs",1,D),Fn=f("xhr_streaming","xhr_streaming",1,D,J),ci=f("xdr_streaming","xdr_streaming",1,D,J),Hn=f("xhr_polling","xhr_polling",1,D),ui=f("xdr_polling","xdr_polling",1,D),Bn=new Ve([ie],I),li=new Ve([jt],I),hi=new Ve([ai],I),Mn=new Ve([new dt(pt(Fn),Fn,ci)],I),qn=new Ve([new dt(pt(Hn),Hn,ui)],I),zn=new Ve([new dt(pt(Mn),new an([Mn,new Dt(qn,{delay:4e3})]),qn)],I),fn=new dt(pt(zn),zn,hi),dn;return t.useTLS?dn=new an([Bn,new Dt(fn,{delay:2e3})]):dn=new an([Bn,new Dt(li,{delay:2e3}),new Dt(fn,{delay:5e3})]),new us(new fs(new dt(pt(ie),dn,fn)),c,{ttl:18e5,timeline:t.timeline,useTLS:t.useTLS})},ps=ds,ms=(function(){var i=this;i.timeline.info(i.buildTimelineMessage({transport:i.name+(i.options.useTLS?"s":"")})),i.hooks.isInitialized()?i.changeState("initialized"):i.hooks.file?(i.changeState("initializing"),x.load(i.hooks.file,{useTLS:i.options.useTLS},function(t,s){i.hooks.isInitialized()?(i.changeState("initialized"),s(!0)):(t&&i.onError(t),i.onClose(),s(!1))})):i.onClose()}),gs={getRequest:function(i){var t=new window.XDomainRequest;return t.ontimeout=function(){i.emit("error",new N),i.close()},t.onerror=function(s){i.emit("error",s),i.close()},t.onprogress=function(){t.responseText&&t.responseText.length>0&&i.onChunk(200,t.responseText)},t.onload=function(){t.responseText&&t.responseText.length>0&&i.onChunk(200,t.responseText),i.emit("finished",200),i.close()},t},abortRequest:function(i){i.ontimeout=i.onerror=i.onprogress=i.onload=null,i.abort()}},vs=gs;const bs=256*1024;class ws extends xe{constructor(t,s,c){super(),this.hooks=t,this.method=s,this.url=c}start(t){this.position=0,this.xhr=this.hooks.getRequest(this),this.unloader=()=>{this.close()},F.addUnloadListener(this.unloader),this.xhr.open(this.method,this.url,!0),this.xhr.setRequestHeader&&this.xhr.setRequestHeader("Content-Type","application/json"),this.xhr.send(t)}close(){this.unloader&&(F.removeUnloadListener(this.unloader),this.unloader=null),this.xhr&&(this.hooks.abortRequest(this.xhr),this.xhr=null)}onChunk(t,s){for(;;){var c=this.advanceBuffer(s);if(c)this.emit("chunk",{status:t,data:c});else break}this.isBufferTooLong(s)&&this.emit("buffer_too_long")}advanceBuffer(t){var s=t.slice(this.position),c=s.indexOf(`
`);return c!==-1?(this.position+=c+1,s.slice(0,c)):null}isBufferTooLong(t){return this.position===t.length&&t.length>bs}}var un;(function(i){i[i.CONNECTING=0]="CONNECTING",i[i.OPEN=1]="OPEN",i[i.CLOSED=3]="CLOSED"})(un||(un={}));var $e=un,ys=1;class Ss{constructor(t,s){this.hooks=t,this.session=Un(1e3)+"/"+Es(8),this.location=Cs(s),this.readyState=$e.CONNECTING,this.openStream()}send(t){return this.sendRaw(JSON.stringify([t]))}ping(){this.hooks.sendHeartbeat(this)}close(t,s){this.onClose(t,s,!0)}sendRaw(t){if(this.readyState===$e.OPEN)try{return F.createSocketRequest("POST",Dn(_s(this.location,this.session))).start(t),!0}catch{return!1}else return!1}reconnect(){this.closeStream(),this.openStream()}onClose(t,s,c){this.closeStream(),this.readyState=$e.CLOSED,this.onclose&&this.onclose({code:t,reason:s,wasClean:c})}onChunk(t){if(t.status===200){this.readyState===$e.OPEN&&this.onActivity();var s,c=t.data.slice(0,1);switch(c){case"o":s=JSON.parse(t.data.slice(1)||"{}"),this.onOpen(s);break;case"a":s=JSON.parse(t.data.slice(1)||"[]");for(var f=0;f<s.length;f++)this.onEvent(s[f]);break;case"m":s=JSON.parse(t.data.slice(1)||"null"),this.onEvent(s);break;case"h":this.hooks.onHeartbeat(this);break;case"c":s=JSON.parse(t.data.slice(1)||"[]"),this.onClose(s[0],s[1],!0);break}}}onOpen(t){this.readyState===$e.CONNECTING?(t&&t.hostname&&(this.location.base=xs(this.location.base,t.hostname)),this.readyState=$e.OPEN,this.onopen&&this.onopen()):this.onClose(1006,"Server lost session",!0)}onEvent(t){this.readyState===$e.OPEN&&this.onmessage&&this.onmessage({data:t})}onActivity(){this.onactivity&&this.onactivity()}onError(t){this.onerror&&this.onerror(t)}openStream(){this.stream=F.createSocketRequest("POST",Dn(this.hooks.getReceiveURL(this.location,this.session))),this.stream.bind("chunk",t=>{this.onChunk(t)}),this.stream.bind("finished",t=>{this.hooks.onFinished(this,t)}),this.stream.bind("buffer_too_long",()=>{this.reconnect()});try{this.stream.start()}catch(t){te.defer(()=>{this.onError(t),this.onClose(1006,"Could not start streaming",!1)})}}closeStream(){this.stream&&(this.stream.unbind_all(),this.stream.close(),this.stream=null)}}function Cs(i){var t=/([^\?]*)\/*(\??.*)/.exec(i);return{base:t[1],queryString:t[2]}}function _s(i,t){return i.base+"/"+t+"/xhr_send"}function Dn(i){var t=i.indexOf("?")===-1?"?":"&";return i+t+"t="+ +new Date+"&n="+ys++}function xs(i,t){var s=/(https?:\/\/)([^\/:]+)((\/|:)?.*)/.exec(i);return s[1]+t+s[3]}function Un(i){return F.randomInt(i)}function Es(i){for(var t=[],s=0;s<i;s++)t.push(Un(32).toString(32));return t.join("")}var ks=Ss,Ts={getReceiveURL:function(i,t){return i.base+"/"+t+"/xhr_streaming"+i.queryString},onHeartbeat:function(i){i.sendRaw("[]")},sendHeartbeat:function(i){i.sendRaw("[]")},onFinished:function(i,t){i.onClose(1006,"Connection interrupted ("+t+")",!1)}},Ps=Ts,As={getReceiveURL:function(i,t){return i.base+"/"+t+"/xhr"+i.queryString},onHeartbeat:function(){},sendHeartbeat:function(i){i.sendRaw("[]")},onFinished:function(i,t){t===200?i.reconnect():i.onClose(1006,"Connection interrupted ("+t+")",!1)}},Rs=As,Os={getRequest:function(i){var t=F.getXHRAPI(),s=new t;return s.onreadystatechange=s.onprogress=function(){switch(s.readyState){case 3:s.responseText&&s.responseText.length>0&&i.onChunk(s.status,s.responseText);break;case 4:s.responseText&&s.responseText.length>0&&i.onChunk(s.status,s.responseText),i.emit("finished",s.status),i.close();break}},s},abortRequest:function(i){i.onreadystatechange=null,i.abort()}},Ls=Os,Ns={createStreamingSocket(i){return this.createSocket(Ps,i)},createPollingSocket(i){return this.createSocket(Rs,i)},createSocket(i,t){return new ks(i,t)},createXHR(i,t){return this.createRequest(Ls,i,t)},createRequest(i,t,s){return new ws(i,t,s)}},jn=Ns;jn.createXDR=function(i,t){return this.createRequest(vs,i,t)};var Ds=jn,Us={nextAuthCallbackID:1,auth_callbacks:{},ScriptReceivers:u,DependenciesReceivers:w,getDefaultStrategy:ps,Transports:Q,transportConnectionInitializer:ms,HTTPFactory:Ds,TimelineTransport:Pt,getXHRAPI(){return window.XMLHttpRequest},getWebSocketAPI(){return window.WebSocket||window.MozWebSocket},setup(i){window.Pusher=i;var t=()=>{this.onDocumentBody(i.ready)};window.JSON?t():x.load("json2",{},t)},getDocument(){return document},getProtocol(){return this.getDocument().location.protocol},getAuthorizers(){return{ajax:de,jsonp:Tt}},onDocumentBody(i){document.body?i():setTimeout(()=>{this.onDocumentBody(i)},0)},createJSONPRequest(i,t){return new at(i,t)},createScriptRequest(i){return new tn(i)},getLocalStorage(){try{return window.localStorage}catch{return}},createXHR(){return this.getXHRAPI()?this.createXMLHttpRequest():this.createMicrosoftXHR()},createXMLHttpRequest(){var i=this.getXHRAPI();return new i},createMicrosoftXHR(){return new ActiveXObject("Microsoft.XMLHTTP")},getNetwork(){return re},createWebSocket(i){var t=this.getWebSocketAPI();return new t(i)},createSocketRequest(i,t){if(this.isXHRSupported())return this.HTTPFactory.createXHR(i,t);if(this.isXDRSupported(t.indexOf("https:")===0))return this.HTTPFactory.createXDR(i,t);throw"Cross-origin HTTP requests are not supported"},isXHRSupported(){var i=this.getXHRAPI();return!!i&&new i().withCredentials!==void 0},isXDRSupported(i){var t=i?"https:":"http:",s=this.getProtocol();return!!window.XDomainRequest&&s===t},addUnloadListener(i){window.addEventListener!==void 0?window.addEventListener("unload",i,!1):window.attachEvent!==void 0&&window.attachEvent("onunload",i)},removeUnloadListener(i){window.addEventListener!==void 0?window.removeEventListener("unload",i,!1):window.detachEvent!==void 0&&window.detachEvent("onunload",i)},randomInt(i){return Math.floor(function(){return(window.crypto||window.msCrypto).getRandomValues(new Uint32Array(1))[0]/Math.pow(2,32)}()*i)}},F=Us,ln;(function(i){i[i.ERROR=3]="ERROR",i[i.INFO=6]="INFO",i[i.DEBUG=7]="DEBUG"})(ln||(ln={}));var Ut=ln;class js{constructor(t,s,c){this.key=t,this.session=s,this.events=[],this.options=c||{},this.sent=0,this.uniqueID=0}log(t,s){t<=this.options.level&&(this.events.push(oe({},s,{timestamp:te.now()})),this.options.limit&&this.events.length>this.options.limit&&this.events.shift())}error(t){this.log(Ut.ERROR,t)}info(t){this.log(Ut.INFO,t)}debug(t){this.log(Ut.DEBUG,t)}isEmpty(){return this.events.length===0}send(t,s){var c=oe({session:this.session,bundle:this.sent+1,key:this.key,lib:"js",version:this.options.version,cluster:this.options.cluster,features:this.options.features,timeline:this.events},this.options.params);return this.events=[],t(c,(f,C)=>{f||this.sent++,s&&s(f,C)}),!0}generateUniqueID(){return this.uniqueID++,this.uniqueID}}class Is{constructor(t,s,c,f){this.name=t,this.priority=s,this.transport=c,this.options=f||{}}isSupported(){return this.transport.isSupported({useTLS:this.options.useTLS})}connect(t,s){if(this.isSupported()){if(this.priority<t)return In(new j,s)}else return In(new ee,s);var c=!1,f=this.transport.createConnection(this.name,this.priority,this.options.key,this.options),C=null,P=function(){f.unbind("initialized",P),f.connect()},D=function(){C=Re.createHandshake(f,function(ie){c=!0,J(),s(null,ie)})},I=function(ie){J(),s(ie)},z=function(){J();var ie;ie=K(f),s(new B(ie))},J=function(){f.unbind("initialized",P),f.unbind("open",D),f.unbind("error",I),f.unbind("closed",z)};return f.bind("initialized",P),f.bind("open",D),f.bind("error",I),f.bind("closed",z),f.initialize(),{abort:()=>{c||(J(),C?C.close():f.close())},forceMinPriority:ie=>{c||this.priority<ie&&(C?C.close():f.close())}}}}function In(i,t){return te.defer(function(){t(i)}),{abort:function(){},forceMinPriority:function(){}}}const{Transports:Fs}=F;var Hs=function(i,t,s,c,f,C){var P=Fs[s];if(!P)throw new Z(s);var D=(!i.enabledTransports||Te(i.enabledTransports,t)!==-1)&&(!i.disabledTransports||Te(i.disabledTransports,t)===-1),I;return D?(f=Object.assign({ignoreNullOrigin:i.ignoreNullOrigin},f),I=new Is(t,c,C?C.getAssistant(P):P,f)):I=Bs,I},Bs={isSupported:function(){return!1},connect:function(i,t){var s=te.defer(function(){t(new ee)});return{abort:function(){s.ensureAborted()},forceMinPriority:function(){}}}};function Ms(i){if(i==null)throw"You must pass an options object";if(i.cluster==null)throw"Options object must provide a cluster";"disableStats"in i&&X.warn("The disableStats option is deprecated in favor of enableStats")}const qs=(i,t)=>{var s="socket_id="+encodeURIComponent(i.socketId);for(var c in t.params)s+="&"+encodeURIComponent(c)+"="+encodeURIComponent(t.params[c]);if(t.paramsProvider!=null){let f=t.paramsProvider();for(var c in f)s+="&"+encodeURIComponent(c)+"="+encodeURIComponent(f[c])}return s};var zs=i=>{if(typeof F.getAuthorizers()[i.transport]>"u")throw`'${i.transport}' is not a recognized auth transport`;return(t,s)=>{const c=qs(t,i);F.getAuthorizers()[i.transport](F,c,i,_.UserAuthentication,s)}};const Vs=(i,t)=>{var s="socket_id="+encodeURIComponent(i.socketId);s+="&channel_name="+encodeURIComponent(i.channelName);for(var c in t.params)s+="&"+encodeURIComponent(c)+"="+encodeURIComponent(t.params[c]);if(t.paramsProvider!=null){let f=t.paramsProvider();for(var c in f)s+="&"+encodeURIComponent(c)+"="+encodeURIComponent(f[c])}return s};var $s=i=>{if(typeof F.getAuthorizers()[i.transport]>"u")throw`'${i.transport}' is not a recognized auth transport`;return(t,s)=>{const c=Vs(t,i);F.getAuthorizers()[i.transport](F,c,i,_.ChannelAuthorization,s)}};const Js=(i,t,s)=>{const c={authTransport:t.transport,authEndpoint:t.endpoint,auth:{params:t.params,headers:t.headers}};return(f,C)=>{const P=i.channel(f.channelName);s(P,c).authorize(f.socketId,C)}};function Xs(i,t){let s={activityTimeout:i.activityTimeout||y.activityTimeout,cluster:i.cluster,httpPath:i.httpPath||y.httpPath,httpPort:i.httpPort||y.httpPort,httpsPort:i.httpsPort||y.httpsPort,pongTimeout:i.pongTimeout||y.pongTimeout,statsHost:i.statsHost||y.stats_host,unavailableTimeout:i.unavailableTimeout||y.unavailableTimeout,wsPath:i.wsPath||y.wsPath,wsPort:i.wsPort||y.wsPort,wssPort:i.wssPort||y.wssPort,enableStats:Ys(i),httpHost:Ws(i),useTLS:Qs(i),wsHost:Ks(i),userAuthenticator:Zs(i),channelAuthorizer:ti(i,t)};return"disabledTransports"in i&&(s.disabledTransports=i.disabledTransports),"enabledTransports"in i&&(s.enabledTransports=i.enabledTransports),"ignoreNullOrigin"in i&&(s.ignoreNullOrigin=i.ignoreNullOrigin),"timelineParams"in i&&(s.timelineParams=i.timelineParams),"nacl"in i&&(s.nacl=i.nacl),s}function Ws(i){return i.httpHost?i.httpHost:i.cluster?`sockjs-${i.cluster}.pusher.com`:y.httpHost}function Ks(i){return i.wsHost?i.wsHost:Gs(i.cluster)}function Gs(i){return`ws-${i}.pusher.com`}function Qs(i){return F.getProtocol()==="https:"?!0:i.forceTLS!==!1}function Ys(i){return"enableStats"in i?i.enableStats:"disableStats"in i?!i.disableStats:!1}function Zs(i){const t=Object.assign(Object.assign({},y.userAuthentication),i.userAuthentication);return"customHandler"in t&&t.customHandler!=null?t.customHandler:zs(t)}function ei(i,t){let s;return"channelAuthorization"in i?s=Object.assign(Object.assign({},y.channelAuthorization),i.channelAuthorization):(s={transport:i.authTransport||y.authTransport,endpoint:i.authEndpoint||y.authEndpoint},"auth"in i&&("params"in i.auth&&(s.params=i.auth.params),"headers"in i.auth&&(s.headers=i.auth.headers)),"authorizer"in i&&(s.customHandler=Js(t,s,i.authorizer))),s}function ti(i,t){const s=ei(i,t);return"customHandler"in s&&s.customHandler!=null?s.customHandler:$s(s)}class ni extends xe{constructor(t){super(function(s,c){X.debug(`No callbacks on watchlist events for ${s}`)}),this.pusher=t,this.bindWatchlistInternalEvent()}handleEvent(t){t.data.events.forEach(s=>{this.emit(s.name,s)})}bindWatchlistInternalEvent(){this.pusher.connection.bind("message",t=>{var s=t.event;s==="pusher_internal:watchlist_events"&&this.handleEvent(t)})}}function ri(){let i,t;return{promise:new Promise((c,f)=>{i=c,t=f}),resolve:i,reject:t}}var si=ri;class ii extends xe{constructor(t){super(function(s,c){X.debug("No callbacks on user for "+s)}),this.signin_requested=!1,this.user_data=null,this.serverToUserChannel=null,this.signinDonePromise=null,this._signinDoneResolve=null,this._onAuthorize=(s,c)=>{if(s){X.warn(`Error during signin: ${s}`),this._cleanup();return}this.pusher.send_event("pusher:signin",{auth:c.auth,user_data:c.user_data})},this.pusher=t,this.pusher.connection.bind("state_change",({previous:s,current:c})=>{s!=="connected"&&c==="connected"&&this._signin(),s==="connected"&&c!=="connected"&&(this._cleanup(),this._newSigninPromiseIfNeeded())}),this.watchlist=new ni(t),this.pusher.connection.bind("message",s=>{var c=s.event;c==="pusher:signin_success"&&this._onSigninSuccess(s.data),this.serverToUserChannel&&this.serverToUserChannel.name===s.channel&&this.serverToUserChannel.handleEvent(s)})}signin(){this.signin_requested||(this.signin_requested=!0,this._signin())}_signin(){this.signin_requested&&(this._newSigninPromiseIfNeeded(),this.pusher.connection.state==="connected"&&this.pusher.config.userAuthenticator({socketId:this.pusher.connection.socket_id},this._onAuthorize))}_onSigninSuccess(t){try{this.user_data=JSON.parse(t.user_data)}catch{X.error(`Failed parsing user data after signin: ${t.user_data}`),this._cleanup();return}if(typeof this.user_data.id!="string"||this.user_data.id===""){X.error(`user_data doesn't contain an id. user_data: ${this.user_data}`),this._cleanup();return}this._signinDoneResolve(),this._subscribeChannels()}_subscribeChannels(){const t=s=>{s.subscriptionPending&&s.subscriptionCancelled?s.reinstateSubscription():!s.subscriptionPending&&this.pusher.connection.state==="connected"&&s.subscribe()};this.serverToUserChannel=new Ze(`#server-to-user-${this.user_data.id}`,this.pusher),this.serverToUserChannel.bind_global((s,c)=>{s.indexOf("pusher_internal:")===0||s.indexOf("pusher:")===0||this.emit(s,c)}),t(this.serverToUserChannel)}_cleanup(){this.user_data=null,this.serverToUserChannel&&(this.serverToUserChannel.unbind_all(),this.serverToUserChannel.disconnect(),this.serverToUserChannel=null),this.signin_requested&&this._signinDoneResolve()}_newSigninPromiseIfNeeded(){if(!this.signin_requested||this.signinDonePromise&&!this.signinDonePromise.done)return;const{promise:t,resolve:s}=si();t.done=!1;const c=()=>{t.done=!0};t.then(c).catch(c),this.signinDonePromise=t,this._signinDoneResolve=s}}class ue{static ready(){ue.isReady=!0;for(var t=0,s=ue.instances.length;t<s;t++)ue.instances[t].connect()}static getClientFeatures(){return st(_t({ws:F.Transports.ws},function(t){return t.isSupported({})}))}constructor(t,s){oi(t),Ms(s),this.key=t,this.config=Xs(s,this),this.channels=Re.createChannels(),this.global_emitter=new xe,this.sessionID=F.randomInt(1e9),this.timeline=new js(this.key,this.sessionID,{cluster:this.config.cluster,features:ue.getClientFeatures(),params:this.config.timelineParams||{},limit:50,level:Ut.INFO,version:y.VERSION}),this.config.enableStats&&(this.timelineSender=Re.createTimelineSender(this.timeline,{host:this.config.statsHost,path:"/timeline/v2/"+F.TimelineTransport.name}));var c=f=>F.getDefaultStrategy(this.config,f,Hs);this.connection=Re.createConnectionManager(this.key,{getStrategy:c,timeline:this.timeline,activityTimeout:this.config.activityTimeout,pongTimeout:this.config.pongTimeout,unavailableTimeout:this.config.unavailableTimeout,useTLS:!!this.config.useTLS}),this.connection.bind("connected",()=>{this.subscribeAll(),this.timelineSender&&this.timelineSender.send(this.connection.isUsingTLS())}),this.connection.bind("message",f=>{var C=f.event,P=C.indexOf("pusher_internal:")===0;if(f.channel){var D=this.channel(f.channel);D&&D.handleEvent(f)}P||this.global_emitter.emit(f.event,f.data)}),this.connection.bind("connecting",()=>{this.channels.disconnect()}),this.connection.bind("disconnected",()=>{this.channels.disconnect()}),this.connection.bind("error",f=>{X.warn(f)}),ue.instances.push(this),this.timeline.info({instances:ue.instances.length}),this.user=new ii(this),ue.isReady&&this.connect()}channel(t){return this.channels.find(t)}allChannels(){return this.channels.all()}connect(){if(this.connection.connect(),this.timelineSender&&!this.timelineSenderTimer){var t=this.connection.isUsingTLS(),s=this.timelineSender;this.timelineSenderTimer=new Fe(6e4,function(){s.send(t)})}}disconnect(){this.connection.disconnect(),this.timelineSenderTimer&&(this.timelineSenderTimer.ensureAborted(),this.timelineSenderTimer=null)}bind(t,s,c){return this.global_emitter.bind(t,s,c),this}unbind(t,s,c){return this.global_emitter.unbind(t,s,c),this}bind_global(t){return this.global_emitter.bind_global(t),this}unbind_global(t){return this.global_emitter.unbind_global(t),this}unbind_all(t){return this.global_emitter.unbind_all(),this}subscribeAll(){var t;for(t in this.channels.channels)this.channels.channels.hasOwnProperty(t)&&this.subscribe(t)}subscribe(t){var s=this.channels.add(t,this);return s.subscriptionPending&&s.subscriptionCancelled?s.reinstateSubscription():!s.subscriptionPending&&this.connection.state==="connected"&&s.subscribe(),s}unsubscribe(t){var s=this.channels.find(t);s&&s.subscriptionPending?s.cancelSubscription():(s=this.channels.remove(t),s&&s.subscribed&&s.unsubscribe())}send_event(t,s,c){return this.connection.send_event(t,s,c)}shouldUseTLS(){return this.config.useTLS}signin(){this.user.signin()}}ue.instances=[],ue.isReady=!1,ue.logToConsole=!1,ue.Runtime=F,ue.ScriptReceivers=F.ScriptReceivers,ue.DependenciesReceivers=F.DependenciesReceivers,ue.auth_callbacks=F.auth_callbacks;var hn=o.default=ue;function oi(i){if(i==null)throw"You must pass your app key when you instantiate Pusher."}F.setup(ue)})])})})(vn)),vn.exports}var ta=ea();const na=Zo(ta);window.Pusher=na;var mr;(mr=document.querySelector('meta[name="csrf-token"]'))==null||mr.getAttribute("content");window.Echo=new Yo({broadcaster:"reverb",key:"dfxhdazmnuim3djevev0",wsHost:"localhost",wsPort:"9300",wssPort:"9300",forceTLS:!1,enabledTransports:["ws","wss"],wsPath:"/reverb"});window.axios=ne;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";var Ie;(function(n){n.Range="range",n.Steps="steps",n.Positions="positions",n.Count="count",n.Values="values"})(Ie||(Ie={}));var pe;(function(n){n[n.None=-1]="None",n[n.NoValue=0]="NoValue",n[n.LargeValue=1]="LargeValue",n[n.SmallValue=2]="SmallValue"})(pe||(pe={}));function ra(n){return $t(n)&&typeof n.from=="function"}function $t(n){return typeof n=="object"&&typeof n.to=="function"}function lr(n){n.parentElement.removeChild(n)}function _n(n){return n!=null}function hr(n){n.preventDefault()}function sa(n){return n.filter(function(e){return this[e]?!1:this[e]=!0},{})}function ia(n,e){return Math.round(n/e)*e}function oa(n,e){var r=n.getBoundingClientRect(),o=n.ownerDocument,a=o.documentElement,l=Xr(o);return/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)&&(l.x=0),e?r.top+l.y-a.clientTop:r.left+l.x-a.clientLeft}function Ee(n){return typeof n=="number"&&!isNaN(n)&&isFinite(n)}function fr(n,e,r){r>0&&(he(n,e),setTimeout(function(){qt(n,e)},r))}function dr(n){return Math.max(Math.min(n,100),0)}function Qt(n){return Array.isArray(n)?n:[n]}function aa(n){n=String(n);var e=n.split(".");return e.length>1?e[1].length:0}function he(n,e){n.classList&&!/\s/.test(e)?n.classList.add(e):n.className+=" "+e}function qt(n,e){n.classList&&!/\s/.test(e)?n.classList.remove(e):n.className=n.className.replace(new RegExp("(^|\\b)"+e.split(" ").join("|")+"(\\b|$)","gi")," ")}function ca(n,e){return n.classList?n.classList.contains(e):new RegExp("\\b"+e+"\\b").test(n.className)}function Xr(n){var e=window.pageXOffset!==void 0,r=(n.compatMode||"")==="CSS1Compat",o=e?window.pageXOffset:r?n.documentElement.scrollLeft:n.body.scrollLeft,a=e?window.pageYOffset:r?n.documentElement.scrollTop:n.body.scrollTop;return{x:o,y:a}}function ua(){return window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"}}function la(){var n=!1;try{var e=Object.defineProperty({},"passive",{get:function(){n=!0}});window.addEventListener("test",null,e)}catch{}return n}function ha(){return window.CSS&&CSS.supports&&CSS.supports("touch-action","none")}function On(n,e){return 100/(e-n)}function xn(n,e,r){return e*100/(n[r+1]-n[r])}function fa(n,e){return xn(n,n[0]<0?e+Math.abs(n[0]):e-n[0],0)}function da(n,e){return e*(n[1]-n[0])/100+n[0]}function gt(n,e){for(var r=1;n>=e[r];)r+=1;return r}function pa(n,e,r){if(r>=n.slice(-1)[0])return 100;var o=gt(r,n),a=n[o-1],l=n[o],u=e[o-1],m=e[o];return u+fa([a,l],r)/On(u,m)}function ma(n,e,r){if(r>=100)return n.slice(-1)[0];var o=gt(r,e),a=n[o-1],l=n[o],u=e[o-1],m=e[o];return da([a,l],(r-u)*On(u,m))}function ga(n,e,r,o){if(o===100)return o;var a=gt(o,n),l=n[a-1],u=n[a];return r?o-l>(u-l)/2?u:l:e[a-1]?n[a-1]+ia(o-n[a-1],e[a-1]):o}var Wr=(function(){function n(e,r,o){this.xPct=[],this.xVal=[],this.xSteps=[],this.xNumSteps=[],this.xHighestCompleteStep=[],this.xSteps=[o||!1],this.xNumSteps=[!1],this.snap=r;var a,l=[];for(Object.keys(e).forEach(function(u){l.push([Qt(e[u]),u])}),l.sort(function(u,m){return u[0][0]-m[0][0]}),a=0;a<l.length;a++)this.handleEntryPoint(l[a][1],l[a][0]);for(this.xNumSteps=this.xSteps.slice(0),a=0;a<this.xNumSteps.length;a++)this.handleStepPoint(a,this.xNumSteps[a])}return n.prototype.getDistance=function(e){for(var r=[],o=0;o<this.xNumSteps.length-1;o++)r[o]=xn(this.xVal,e,o);return r},n.prototype.getAbsoluteDistance=function(e,r,o){var a=0;if(e<this.xPct[this.xPct.length-1])for(;e>this.xPct[a+1];)a++;else e===this.xPct[this.xPct.length-1]&&(a=this.xPct.length-2);!o&&e===this.xPct[a+1]&&a++,r===null&&(r=[]);var l,u=1,m=r[a],y=0,v=0,w=0,x=0;for(o?l=(e-this.xPct[a])/(this.xPct[a+1]-this.xPct[a]):l=(this.xPct[a+1]-e)/(this.xPct[a+1]-this.xPct[a]);m>0;)y=this.xPct[a+1+x]-this.xPct[a+x],r[a+x]*u+100-l*100>100?(v=y*l,u=(m-100*l)/r[a+x],l=1):(v=r[a+x]*y/100*u,u=0),o?(w=w-v,this.xPct.length+x>=1&&x--):(w=w+v,this.xPct.length-x>=1&&x++),m=r[a+x]*u;return e+w},n.prototype.toStepping=function(e){return e=pa(this.xVal,this.xPct,e),e},n.prototype.fromStepping=function(e){return ma(this.xVal,this.xPct,e)},n.prototype.getStep=function(e){return e=ga(this.xPct,this.xSteps,this.snap,e),e},n.prototype.getDefaultStep=function(e,r,o){var a=gt(e,this.xPct);return(e===100||r&&e===this.xPct[a-1])&&(a=Math.max(a-1,1)),(this.xVal[a]-this.xVal[a-1])/o},n.prototype.getNearbySteps=function(e){var r=gt(e,this.xPct);return{stepBefore:{startValue:this.xVal[r-2],step:this.xNumSteps[r-2],highestStep:this.xHighestCompleteStep[r-2]},thisStep:{startValue:this.xVal[r-1],step:this.xNumSteps[r-1],highestStep:this.xHighestCompleteStep[r-1]},stepAfter:{startValue:this.xVal[r],step:this.xNumSteps[r],highestStep:this.xHighestCompleteStep[r]}}},n.prototype.countStepDecimals=function(){var e=this.xNumSteps.map(aa);return Math.max.apply(null,e)},n.prototype.hasNoSize=function(){return this.xVal[0]===this.xVal[this.xVal.length-1]},n.prototype.convert=function(e){return this.getStep(this.toStepping(e))},n.prototype.handleEntryPoint=function(e,r){var o;if(e==="min"?o=0:e==="max"?o=100:o=parseFloat(e),!Ee(o)||!Ee(r[0]))throw new Error("noUiSlider: 'range' value isn't numeric.");this.xPct.push(o),this.xVal.push(r[0]);var a=Number(r[1]);o?this.xSteps.push(isNaN(a)?!1:a):isNaN(a)||(this.xSteps[0]=a),this.xHighestCompleteStep.push(0)},n.prototype.handleStepPoint=function(e,r){if(r){if(this.xVal[e]===this.xVal[e+1]){this.xSteps[e]=this.xHighestCompleteStep[e]=this.xVal[e];return}this.xSteps[e]=xn([this.xVal[e],this.xVal[e+1]],r,0)/On(this.xPct[e],this.xPct[e+1]);var o=(this.xVal[e+1]-this.xVal[e])/this.xNumSteps[e],a=Math.ceil(Number(o.toFixed(3))-1),l=this.xVal[e]+this.xNumSteps[e]*a;this.xHighestCompleteStep[e]=l}},n})(),pr={to:function(n){return n===void 0?"":n.toFixed(2)},from:Number},Kr={target:"target",base:"base",origin:"origin",handle:"handle",handleLower:"handle-lower",handleUpper:"handle-upper",touchArea:"touch-area",horizontal:"horizontal",vertical:"vertical",background:"background",connect:"connect",connects:"connects",ltr:"ltr",rtl:"rtl",textDirectionLtr:"txt-dir-ltr",textDirectionRtl:"txt-dir-rtl",draggable:"draggable",drag:"state-drag",tap:"state-tap",active:"active",tooltip:"tooltip",pips:"pips",pipsHorizontal:"pips-horizontal",pipsVertical:"pips-vertical",marker:"marker",markerHorizontal:"marker-horizontal",markerVertical:"marker-vertical",markerNormal:"marker-normal",markerLarge:"marker-large",markerSub:"marker-sub",value:"value",valueHorizontal:"value-horizontal",valueVertical:"value-vertical",valueNormal:"value-normal",valueLarge:"value-large",valueSub:"value-sub"},je={tooltips:".__tooltips",aria:".__aria"};function va(n,e){if(!Ee(e))throw new Error("noUiSlider: 'step' is not numeric.");n.singleStep=e}function ba(n,e){if(!Ee(e))throw new Error("noUiSlider: 'keyboardPageMultiplier' is not numeric.");n.keyboardPageMultiplier=e}function wa(n,e){if(!Ee(e))throw new Error("noUiSlider: 'keyboardMultiplier' is not numeric.");n.keyboardMultiplier=e}function ya(n,e){if(!Ee(e))throw new Error("noUiSlider: 'keyboardDefaultStep' is not numeric.");n.keyboardDefaultStep=e}function Sa(n,e){if(typeof e!="object"||Array.isArray(e))throw new Error("noUiSlider: 'range' is not an object.");if(e.min===void 0||e.max===void 0)throw new Error("noUiSlider: Missing 'min' or 'max' in 'range'.");n.spectrum=new Wr(e,n.snap||!1,n.singleStep)}function Ca(n,e){if(e=Qt(e),!Array.isArray(e)||!e.length)throw new Error("noUiSlider: 'start' option is incorrect.");n.handles=e.length,n.start=e}function _a(n,e){if(typeof e!="boolean")throw new Error("noUiSlider: 'snap' option must be a boolean.");n.snap=e}function xa(n,e){if(typeof e!="boolean")throw new Error("noUiSlider: 'animate' option must be a boolean.");n.animate=e}function Ea(n,e){if(typeof e!="number")throw new Error("noUiSlider: 'animationDuration' option must be a number.");n.animationDuration=e}function Gr(n,e){var r=[!1],o;if(e==="lower"?e=[!0,!1]:e==="upper"&&(e=[!1,!0]),e===!0||e===!1){for(o=1;o<n.handles;o++)r.push(e);r.push(!1)}else{if(!Array.isArray(e)||!e.length||e.length!==n.handles+1)throw new Error("noUiSlider: 'connect' option doesn't match handle count.");r=e}n.connect=r}function ka(n,e){switch(e){case"horizontal":n.ort=0;break;case"vertical":n.ort=1;break;default:throw new Error("noUiSlider: 'orientation' option is invalid.")}}function Qr(n,e){if(!Ee(e))throw new Error("noUiSlider: 'margin' option must be numeric.");e!==0&&(n.margin=n.spectrum.getDistance(e))}function Ta(n,e){if(!Ee(e))throw new Error("noUiSlider: 'limit' option must be numeric.");if(n.limit=n.spectrum.getDistance(e),!n.limit||n.handles<2)throw new Error("noUiSlider: 'limit' option is only supported on linear sliders with 2 or more handles.")}function Pa(n,e){var r;if(!Ee(e)&&!Array.isArray(e))throw new Error("noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers.");if(Array.isArray(e)&&!(e.length===2||Ee(e[0])||Ee(e[1])))throw new Error("noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers.");if(e!==0){for(Array.isArray(e)||(e=[e,e]),n.padding=[n.spectrum.getDistance(e[0]),n.spectrum.getDistance(e[1])],r=0;r<n.spectrum.xNumSteps.length-1;r++)if(n.padding[0][r]<0||n.padding[1][r]<0)throw new Error("noUiSlider: 'padding' option must be a positive number(s).");var o=e[0]+e[1],a=n.spectrum.xVal[0],l=n.spectrum.xVal[n.spectrum.xVal.length-1];if(o/(l-a)>1)throw new Error("noUiSlider: 'padding' option must not exceed 100% of the range.")}}function Aa(n,e){switch(e){case"ltr":n.dir=0;break;case"rtl":n.dir=1;break;default:throw new Error("noUiSlider: 'direction' option was not recognized.")}}function Ra(n,e){if(typeof e!="string")throw new Error("noUiSlider: 'behaviour' must be a string containing options.");var r=e.indexOf("tap")>=0,o=e.indexOf("drag")>=0,a=e.indexOf("fixed")>=0,l=e.indexOf("snap")>=0,u=e.indexOf("hover")>=0,m=e.indexOf("unconstrained")>=0,y=e.indexOf("invert-connects")>=0,v=e.indexOf("drag-all")>=0,w=e.indexOf("smooth-steps")>=0;if(a){if(n.handles!==2)throw new Error("noUiSlider: 'fixed' behaviour must be used with 2 handles");Qr(n,n.start[1]-n.start[0])}if(y&&n.handles!==2)throw new Error("noUiSlider: 'invert-connects' behaviour must be used with 2 handles");if(m&&(n.margin||n.limit))throw new Error("noUiSlider: 'unconstrained' behaviour cannot be used with margin or limit");n.events={tap:r||l,drag:o,dragAll:v,smoothSteps:w,fixed:a,snap:l,hover:u,unconstrained:m,invertConnects:y}}function Oa(n,e){if(e!==!1)if(e===!0||$t(e)){n.tooltips=[];for(var r=0;r<n.handles;r++)n.tooltips.push(e)}else{if(e=Qt(e),e.length!==n.handles)throw new Error("noUiSlider: must pass a formatter for all handles.");e.forEach(function(o){if(typeof o!="boolean"&&!$t(o))throw new Error("noUiSlider: 'tooltips' must be passed a formatter or 'false'.")}),n.tooltips=e}}function La(n,e){if(e.length!==n.handles)throw new Error("noUiSlider: must pass a attributes for all handles.");n.handleAttributes=e}function Na(n,e){if(!$t(e))throw new Error("noUiSlider: 'ariaFormat' requires 'to' method.");n.ariaFormat=e}function Da(n,e){if(!ra(e))throw new Error("noUiSlider: 'format' requires 'to' and 'from' methods.");n.format=e}function Ua(n,e){if(typeof e!="boolean")throw new Error("noUiSlider: 'keyboardSupport' option must be a boolean.");n.keyboardSupport=e}function ja(n,e){n.documentElement=e}function Ia(n,e){if(typeof e!="string"&&e!==!1)throw new Error("noUiSlider: 'cssPrefix' must be a string or `false`.");n.cssPrefix=e}function Fa(n,e){if(typeof e!="object")throw new Error("noUiSlider: 'cssClasses' must be an object.");typeof n.cssPrefix=="string"?(n.cssClasses={},Object.keys(e).forEach(function(r){n.cssClasses[r]=n.cssPrefix+e[r]})):n.cssClasses=e}function Yr(n){var e={margin:null,limit:null,padding:null,animate:!0,animationDuration:300,ariaFormat:pr,format:pr},r={step:{r:!1,t:va},keyboardPageMultiplier:{r:!1,t:ba},keyboardMultiplier:{r:!1,t:wa},keyboardDefaultStep:{r:!1,t:ya},start:{r:!0,t:Ca},connect:{r:!0,t:Gr},direction:{r:!0,t:Aa},snap:{r:!1,t:_a},animate:{r:!1,t:xa},animationDuration:{r:!1,t:Ea},range:{r:!0,t:Sa},orientation:{r:!1,t:ka},margin:{r:!1,t:Qr},limit:{r:!1,t:Ta},padding:{r:!1,t:Pa},behaviour:{r:!0,t:Ra},ariaFormat:{r:!1,t:Na},format:{r:!1,t:Da},tooltips:{r:!1,t:Oa},keyboardSupport:{r:!0,t:Ua},documentElement:{r:!1,t:ja},cssPrefix:{r:!0,t:Ia},cssClasses:{r:!0,t:Fa},handleAttributes:{r:!1,t:La}},o={connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal",keyboardSupport:!0,cssPrefix:"noUi-",cssClasses:Kr,keyboardPageMultiplier:5,keyboardMultiplier:1,keyboardDefaultStep:10};n.format&&!n.ariaFormat&&(n.ariaFormat=n.format),Object.keys(r).forEach(function(y){if(!_n(n[y])&&o[y]===void 0){if(r[y].r)throw new Error("noUiSlider: '"+y+"' is required.");return}r[y].t(e,_n(n[y])?n[y]:o[y])}),e.pips=n.pips;var a=document.createElement("div"),l=a.style.msTransform!==void 0,u=a.style.transform!==void 0;e.transformRule=u?"transform":l?"msTransform":"webkitTransform";var m=[["left","top"],["right","bottom"]];return e.style=m[e.dir][e.ort],e}function Ha(n,e,r){var o=ua(),a=ha(),l=a&&la(),u=n,m,y,v,w,x,O,T=e.spectrum,S=[],_=[],g=[],k=0,N={},j=!1,B=n.ownerDocument,M=e.documentElement||B.documentElement,Z=B.body,ee=B.dir==="rtl"||e.ort===1?0:100;function W(h,d){var p=B.createElement("div");return d&&he(p,d),h.appendChild(p),p}function le(h,d){var p=W(h,e.cssClasses.origin),E=W(p,e.cssClasses.handle);if(W(E,e.cssClasses.touchArea),E.setAttribute("data-handle",String(d)),e.keyboardSupport&&(E.setAttribute("tabindex","0"),E.addEventListener("keydown",function(R){return xt(R,d)})),e.handleAttributes!==void 0){var A=e.handleAttributes[d];Object.keys(A).forEach(function(R){E.setAttribute(R,A[R])})}return E.setAttribute("role","slider"),E.setAttribute("aria-orientation",e.ort?"vertical":"horizontal"),d===0?he(E,e.cssClasses.handleLower):d===e.handles-1&&he(E,e.cssClasses.handleUpper),p.handle=E,p}function de(h,d){return d?W(h,e.cssClasses.connect):!1}function Ke(h,d){y=W(d,e.cssClasses.connects),v=[],w=[],w.push(de(y,h[0]));for(var p=0;p<e.handles;p++)v.push(le(d,p)),g[p]=p,w.push(de(y,h[p+1]))}function we(h){he(h,e.cssClasses.target),e.dir===0?he(h,e.cssClasses.ltr):he(h,e.cssClasses.rtl),e.ort===0?he(h,e.cssClasses.horizontal):he(h,e.cssClasses.vertical);var d=getComputedStyle(h).direction;return d==="rtl"?he(h,e.cssClasses.textDirectionRtl):he(h,e.cssClasses.textDirectionLtr),W(h,e.cssClasses.base)}function ye(h,d){return!e.tooltips||!e.tooltips[d]?!1:W(h.firstChild,e.cssClasses.tooltip)}function Se(){return u.hasAttribute("disabled")}function Oe(h){var d=v[h];return d.hasAttribute("disabled")}function me(h){h!=null?(v[h].setAttribute("disabled",""),v[h].handle.removeAttribute("tabindex")):(u.setAttribute("disabled",""),v.forEach(function(d){d.handle.removeAttribute("tabindex")}))}function Ge(h){h!=null?(v[h].removeAttribute("disabled"),v[h].handle.setAttribute("tabindex","0")):(u.removeAttribute("disabled"),v.forEach(function(d){d.removeAttribute("disabled"),d.handle.setAttribute("tabindex","0")}))}function ge(){O&&(Be("update"+je.tooltips),O.forEach(function(h){h&&lr(h)}),O=null)}function Le(){ge(),O=v.map(ye),ot("update"+je.tooltips,function(h,d,p){if(!(!O||!e.tooltips)&&O[d]!==!1){var E=h[d];e.tooltips[d]!==!0&&(E=e.tooltips[d].to(p[d])),O[d].innerHTML=E}})}function rt(){Be("update"+je.aria),ot("update"+je.aria,function(h,d,p,E,A){g.forEach(function(R){var U=v[R],L=Ye(_,R,0,!0,!0,!0),V=Ye(_,R,100,!0,!0,!0),$=A[R],G=String(e.ariaFormat.to(p[R]));L=T.fromStepping(L).toFixed(1),V=T.fromStepping(V).toFixed(1),$=T.fromStepping($).toFixed(1),U.children[0].setAttribute("aria-valuemin",L),U.children[0].setAttribute("aria-valuemax",V),U.children[0].setAttribute("aria-valuenow",$),U.children[0].setAttribute("aria-valuetext",G)})})}function Ce(h){if(h.mode===Ie.Range||h.mode===Ie.Steps)return T.xVal;if(h.mode===Ie.Count){if(h.values<2)throw new Error("noUiSlider: 'values' (>= 2) required for mode 'count'.");for(var d=h.values-1,p=100/d,E=[];d--;)E[d]=d*p;return E.push(100),ce(E,h.stepped)}return h.mode===Ie.Positions?ce(h.values,h.stepped):h.mode===Ie.Values?h.stepped?h.values.map(function(A){return T.fromStepping(T.getStep(T.toStepping(A)))}):h.values:[]}function ce(h,d){return h.map(function(p){return T.fromStepping(d?T.getStep(p):p)})}function Fe(h){function d($,G){return Number(($+G).toFixed(7))}var p=Ce(h),E={},A=T.xVal[0],R=T.xVal[T.xVal.length-1],U=!1,L=!1,V=0;return p=sa(p.slice().sort(function($,G){return $-G})),p[0]!==A&&(p.unshift(A),U=!0),p[p.length-1]!==R&&(p.push(R),L=!0),p.forEach(function($,G){var Q,q,re,ae=$,se=p[G+1],Y,lt,ht,ft,Ze,ze,Lt,Nt=h.mode===Ie.Steps;for(Nt&&(Q=T.xNumSteps[G]),Q||(Q=se-ae),se===void 0&&(se=ae),Q=Math.max(Q,1e-7),q=ae;q<=se;q=d(q,Q)){for(Y=T.toStepping(q),lt=Y-V,Ze=lt/(h.density||1),ze=Math.round(Ze),Lt=lt/ze,re=1;re<=ze;re+=1)ht=V+re*Lt,E[ht.toFixed(5)]=[T.fromStepping(ht),0];ft=p.indexOf(q)>-1?pe.LargeValue:Nt?pe.SmallValue:pe.NoValue,!G&&U&&q!==se&&(ft=0),q===se&&L||(E[Y.toFixed(5)]=[q,ft]),V=Y}}),E}function Ne(h,d,p){var E,A,R=B.createElement("div"),U=(E={},E[pe.None]="",E[pe.NoValue]=e.cssClasses.valueNormal,E[pe.LargeValue]=e.cssClasses.valueLarge,E[pe.SmallValue]=e.cssClasses.valueSub,E),L=(A={},A[pe.None]="",A[pe.NoValue]=e.cssClasses.markerNormal,A[pe.LargeValue]=e.cssClasses.markerLarge,A[pe.SmallValue]=e.cssClasses.markerSub,A),V=[e.cssClasses.valueHorizontal,e.cssClasses.valueVertical],$=[e.cssClasses.markerHorizontal,e.cssClasses.markerVertical];he(R,e.cssClasses.pips),he(R,e.ort===0?e.cssClasses.pipsHorizontal:e.cssClasses.pipsVertical);function G(q,re){var ae=re===e.cssClasses.value,se=ae?V:$,Y=ae?U:L;return re+" "+se[e.ort]+" "+Y[q]}function Q(q,re,ae){if(ae=d?d(re,ae):ae,ae!==pe.None){var se=W(R,!1);se.className=G(ae,e.cssClasses.marker),se.style[e.style]=q+"%",ae>pe.NoValue&&(se=W(R,!1),se.className=G(ae,e.cssClasses.value),se.setAttribute("data-value",String(re)),se.style[e.style]=q+"%",se.innerHTML=String(p.to(re)))}}return Object.keys(h).forEach(function(q){Q(q,h[q][0],h[q][1])}),R}function te(){x&&(lr(x),x=null)}function oe(h){te();var d=Fe(h),p=h.filter,E=h.format||{to:function(A){return String(Math.round(A))}};return x=u.appendChild(Ne(d,p,E)),x}function St(){var h=m.getBoundingClientRect(),d="offset"+["Width","Height"][e.ort];return e.ort===0?h.width||m[d]:h.height||m[d]}function Te(h,d,p,E){var A=function(U){var L=_e(U,E.pageOffset,E.target||d);if(!L||Se()&&!E.doNotReject||ca(u,e.cssClasses.tap)&&!E.doNotReject||h===o.start&&L.buttons!==void 0&&L.buttons>1||E.hover&&L.buttons)return!1;l||L.preventDefault(),L.calcPoint=L.points[e.ort],p(L,E)},R=[];return h.split(" ").forEach(function(U){d.addEventListener(U,A,l?{passive:!0}:!1),R.push([U,A])}),R}function _e(h,d,p){var E=h.type.indexOf("touch")===0,A=h.type.indexOf("mouse")===0,R=h.type.indexOf("pointer")===0,U=0,L=0;if(h.type.indexOf("MSPointer")===0&&(R=!0),h.type==="mousedown"&&!h.buttons&&!h.touches)return!1;if(E){var V=function(Q){var q=Q.target;return q===p||p.contains(q)||h.composed&&h.composedPath().shift()===p};if(h.type==="touchstart"){var $=Array.prototype.filter.call(h.touches,V);if($.length>1)return!1;U=$[0].pageX,L=$[0].pageY}else{var G=Array.prototype.find.call(h.changedTouches,V);if(!G)return!1;U=G.pageX,L=G.pageY}}return d=d||Xr(B),(A||R)&&(U=h.clientX+d.x,L=h.clientY+d.y),h.pageOffset=d,h.points=[U,L],h.cursor=A||R,h}function st(h){var d=h-oa(m,e.ort),p=d*100/St();return p=dr(p),e.dir?100-p:p}function Yt(h){var d=100,p=!1;return v.forEach(function(E,A){if(!Oe(A)){var R=_[A],U=Math.abs(R-h),L=U===100&&d===100,V=U<d,$=U<=d&&h>R;(V||$||L)&&(p=A,d=U)}}),p}function He(h,d){h.type==="mouseout"&&h.target.nodeName==="HTML"&&h.relatedTarget===null&&it(h,d)}function Ct(h,d){if(navigator.appVersion.indexOf("MSIE 9")===-1&&h.buttons===0&&d.buttonsProperty!==0)return it(h,d);var p=(e.dir?-1:1)*(h.calcPoint-d.startCalcPoint),E=p*100/d.baseSize;kt(p>0,E,d.locations,d.handleNumbers,d.connect)}function it(h,d){d.handle&&(qt(d.handle,e.cssClasses.active),k-=1),d.listeners.forEach(function(p){M.removeEventListener(p[0],p[1])}),k===0&&(qt(u,e.cssClasses.drag),at(),h.cursor&&(Z.style.cursor="",Z.removeEventListener("selectstart",hr))),e.events.smoothSteps&&(d.handleNumbers.forEach(function(p){Ae(p,_[p],!0,!0,!1,!1)}),d.handleNumbers.forEach(function(p){K("update",p)})),d.handleNumbers.forEach(function(p){K("change",p),K("set",p),K("end",p)})}function Qe(h,d){if(!d.handleNumbers.some(Oe)){var p;if(d.handleNumbers.length===1){var E=v[d.handleNumbers[0]];p=E.children[0],k+=1,he(p,e.cssClasses.active)}h.stopPropagation();var A=[],R=Te(o.move,M,Ct,{target:h.target,handle:p,connect:d.connect,listeners:A,startCalcPoint:h.calcPoint,baseSize:St(),pageOffset:h.pageOffset,handleNumbers:d.handleNumbers,buttonsProperty:h.buttons,locations:_.slice()}),U=Te(o.end,M,it,{target:h.target,handle:p,listeners:A,doNotReject:!0,handleNumbers:d.handleNumbers}),L=Te("mouseout",M,He,{target:h.target,handle:p,listeners:A,doNotReject:!0,handleNumbers:d.handleNumbers});A.push.apply(A,R.concat(U,L)),h.cursor&&(Z.style.cursor=getComputedStyle(h.target).cursor,v.length>1&&he(u,e.cssClasses.drag),Z.addEventListener("selectstart",hr,!1)),d.handleNumbers.forEach(function(V){K("start",V)})}}function _t(h){h.stopPropagation();var d=st(h.calcPoint),p=Yt(d);p!==!1&&(e.events.snap||fr(u,e.cssClasses.tap,e.animationDuration),Ae(p,d,!0,!0),at(),K("slide",p,!0),K("update",p,!0),e.events.snap?Qe(h,{handleNumbers:[p]}):(K("change",p,!0),K("set",p,!0)))}function Zt(h){var d=st(h.calcPoint),p=T.getStep(d),E=T.fromStepping(p);Object.keys(N).forEach(function(A){A.split(".")[0]==="hover"&&N[A].forEach(function(R){R.call(qe,E)})})}function xt(h,d){if(Se()||Oe(d))return!1;var p=["Left","Right"],E=["Down","Up"],A=["PageDown","PageUp"],R=["Home","End"];e.dir&&!e.ort?p.reverse():e.ort&&!e.dir&&(E.reverse(),A.reverse());var U=h.key.replace("Arrow",""),L=U===A[0],V=U===A[1],$=U===E[0]||U===p[0]||L,G=U===E[1]||U===p[1]||V,Q=U===R[0],q=U===R[1];if(!$&&!G&&!Q&&!q)return!0;h.preventDefault();var re;if(G||$){var ae=$?0:1,se=Rt(d),Y=se[ae];if(Y===null)return!1;Y===!1&&(Y=T.getDefaultStep(_[d],$,e.keyboardDefaultStep)),V||L?Y*=e.keyboardPageMultiplier:Y*=e.keyboardMultiplier,Y=Math.max(Y,1e-7),Y=($?-1:1)*Y,re=S[d]+Y}else q?re=e.spectrum.xVal[e.spectrum.xVal.length-1]:re=e.spectrum.xVal[0];return Ae(d,T.toStepping(re),!0,!0),K("slide",d),K("update",d),K("change",d),K("set",d),!1}function Et(h){h.fixed||v.forEach(function(d,p){Te(o.start,d.children[0],Qe,{handleNumbers:[p]})}),h.tap&&Te(o.start,m,_t,{}),h.hover&&Te(o.move,m,Zt,{hover:!0}),h.drag&&w.forEach(function(d,p){if(!(d===!1||p===0||p===w.length-1)){var E=v[p-1],A=v[p],R=[d],U=[E,A],L=[p-1,p];he(d,e.cssClasses.draggable),h.fixed&&(R.push(E.children[0]),R.push(A.children[0])),h.dragAll&&(U=v,L=g),R.forEach(function(V){Te(o.start,V,Qe,{handles:U,handleNumbers:L,connect:d})})}})}function ot(h,d){N[h]=N[h]||[],N[h].push(d),h.split(".")[0]==="update"&&v.forEach(function(p,E){K("update",E)})}function en(h){return h===je.aria||h===je.tooltips}function Be(h){var d=h&&h.split(".")[0],p=d?h.substring(d.length):h;Object.keys(N).forEach(function(E){var A=E.split(".")[0],R=E.substring(A.length);(!d||d===A)&&(!p||p===R)&&(!en(R)||p===R)&&delete N[E]})}function K(h,d,p){Object.keys(N).forEach(function(E){var A=E.split(".")[0];h===A&&N[E].forEach(function(R){R.call(qe,S.map(e.format.to),d,S.slice(),p||!1,_.slice(),qe)})})}function Ye(h,d,p,E,A,R,U){var L;return v.length>1&&!e.events.unconstrained&&(E&&d>0&&(L=T.getAbsoluteDistance(h[d-1],e.margin,!1),p=Math.max(p,L)),A&&d<v.length-1&&(L=T.getAbsoluteDistance(h[d+1],e.margin,!0),p=Math.min(p,L))),v.length>1&&e.limit&&(E&&d>0&&(L=T.getAbsoluteDistance(h[d-1],e.limit,!1),p=Math.min(p,L)),A&&d<v.length-1&&(L=T.getAbsoluteDistance(h[d+1],e.limit,!0),p=Math.max(p,L))),e.padding&&(d===0&&(L=T.getAbsoluteDistance(0,e.padding[0],!1),p=Math.max(p,L)),d===v.length-1&&(L=T.getAbsoluteDistance(100,e.padding[1],!0),p=Math.min(p,L))),U||(p=T.getStep(p)),p=dr(p),p===h[d]&&!R?!1:p}function X(h,d){var p=e.ort;return(p?d:h)+", "+(p?h:d)}function kt(h,d,p,E,A){var R=p.slice(),U=E[0],L=e.events.smoothSteps,V=[!h,h],$=[h,!h];E=E.slice(),h&&E.reverse(),E.length>1?E.forEach(function(Q,q){var re=Ye(R,Q,R[Q]+d,V[q],$[q],!1,L);re===!1?d=0:(d=re-R[Q],R[Q]=re)}):V=$=[!0];var G=!1;E.forEach(function(Q,q){G=Ae(Q,p[Q]+d,V[q],$[q],!1,L)||G}),G&&(E.forEach(function(Q){K("update",Q),K("slide",Q)}),A!=null&&K("drag",U))}function Tt(h,d){return e.dir?100-h-d:h}function tn(h,d){_[h]=d,S[h]=T.fromStepping(d);var p=Tt(d,0)-ee,E="translate("+X(p+"%","0")+")";if(v[h].style[e.transformRule]=E,e.events.invertConnects&&_.length>1){var A=_.every(function(R,U,L){return U===0||R>=L[U-1]});if(j!==!A){Ue();return}}Me(h),Me(h+1),j&&(Me(h-1),Me(h+2))}function at(){g.forEach(function(h){var d=_[h]>50?-1:1,p=3+(v.length+d*h);v[h].style.zIndex=String(p)})}function Ae(h,d,p,E,A,R){return A||(d=Ye(_,h,d,p,E,!1,R)),d===!1?!1:(tn(h,d),!0)}function Me(h){if(w[h]){var d=_.slice();j&&d.sort(function(L,V){return L-V});var p=0,E=100;h!==0&&(p=d[h-1]),h!==w.length-1&&(E=d[h]);var A=E-p,R="translate("+X(Tt(p,A)+"%","0")+")",U="scale("+X(A/100,"1")+")";w[h].style[e.transformRule]=R+" "+U}}function Pt(h,d){return h===null||h===!1||h===void 0||(typeof h=="number"&&(h=String(h)),h=e.format.from(h),h!==!1&&(h=T.toStepping(h)),h===!1||isNaN(h))?_[d]:h}function De(h,d,p){var E=Qt(h),A=_[0]===void 0;d=d===void 0?!0:d,e.animate&&!A&&fr(u,e.cssClasses.tap,e.animationDuration),g.forEach(function(L){Ae(L,Pt(E[L],L),!0,!1,p)});var R=g.length===1?0:1;if(A&&T.hasNoSize()&&(p=!0,_[0]=0,g.length>1)){var U=100/(g.length-1);g.forEach(function(L){_[L]=L*U})}for(;R<g.length;++R)g.forEach(function(L){Ae(L,_[L],!0,!0,p)});at(),g.forEach(function(L){K("update",L),E[L]!==null&&d&&K("set",L)})}function ct(h){De(e.start,h)}function nn(h,d,p,E){if(h=Number(h),!(h>=0&&h<g.length))throw new Error("noUiSlider: invalid handle number, got: "+h);Ae(h,Pt(d,h),!0,!0,E),K("update",h),p&&K("set",h)}function At(h){if(h===void 0&&(h=!1),h)return S.length===1?S[0]:S.slice(0);var d=S.map(e.format.to);return d.length===1?d[0]:d}function rn(){for(Be(je.aria),Be(je.tooltips),Object.keys(e.cssClasses).forEach(function(h){qt(u,e.cssClasses[h])});u.firstChild;)u.removeChild(u.firstChild);delete u.noUiSlider}function Rt(h){var d=_[h],p=T.getNearbySteps(d),E=S[h],A=p.thisStep.step,R=null;if(e.snap)return[E-p.stepBefore.startValue||null,p.stepAfter.startValue-E||null];A!==!1&&E+A>p.stepAfter.startValue&&(A=p.stepAfter.startValue-E),E>p.thisStep.startValue?R=p.thisStep.step:p.stepBefore.step===!1?R=!1:R=E-p.stepBefore.highestStep,d===100?A=null:d===0&&(R=null);var U=T.countStepDecimals();return A!==null&&A!==!1&&(A=Number(A.toFixed(U))),R!==null&&R!==!1&&(R=Number(R.toFixed(U))),[R,A]}function ut(){return g.map(Rt)}function xe(h,d){var p=At(),E=["margin","limit","padding","range","animate","snap","step","format","pips","tooltips","connect"];E.forEach(function(R){h[R]!==void 0&&(r[R]=h[R])});var A=Yr(r);E.forEach(function(R){h[R]!==void 0&&(e[R]=A[R])}),T=A.spectrum,e.margin=A.margin,e.limit=A.limit,e.padding=A.padding,e.pips?oe(e.pips):te(),e.tooltips?Le():ge(),_=[],De(_n(h.start)?h.start:p,d),h.connect&&Ot()}function Ot(){for(;y.firstChild;)y.removeChild(y.firstChild);for(var h=0;h<=e.handles;h++)w[h]=de(y,e.connect[h]),Me(h);Et({drag:e.events.drag,fixed:!0})}function Ue(){j=!j,Gr(e,e.connect.map(function(h){return!h})),Ot()}function sn(){m=we(u),Ke(e.connect,m),Et(e.events),De(e.start),e.pips&&oe(e.pips),e.tooltips&&Le(),rt()}sn();var qe={destroy:rn,steps:ut,on:ot,off:Be,get:At,set:De,setHandle:nn,reset:ct,disable:me,enable:Ge,__moveHandles:function(h,d,p){kt(h,d,_,p)},options:r,updateOptions:xe,target:u,removePips:te,removeTooltips:ge,getPositions:function(){return _.slice()},getTooltips:function(){return O},getOrigins:function(){return v},pips:oe};return qe}function Ba(n,e){if(!n||!n.nodeName)throw new Error("noUiSlider: create requires a single element, got: "+n);if(n.noUiSlider)throw new Error("noUiSlider: Slider was already initialized.");var r=Yr(e),o=Ha(n,r,e);return n.noUiSlider=o,o}const Ma={__spectrum:Wr,cssClasses:Kr,create:Ba};class qa{constructor(){this.modal=document.createElement("div"),this.modal.id="downloadModal",this.modal.style.cssText="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.5); align-items:center; justify-content:center;",this.modal.innerHTML=`
            <div class="panel" style="max-width:600px;width:90%;">
                <h3>Download luft...</h3>
                <table class="w-full my-3 text-sm">
                    <thead>
                        <tr>
                            <th class="text-left">Video</th>
                            <th class="text-left">Status</th>
                        </tr>
                    </thead>
                    <tbody id="downloadFileList"></tbody>
                </table>
                <p id="statusText" class="text-sm mb-2"></p>
                <div class="w-full h-2 bg-gray-200 rounded overflow-hidden">
                    <div id="zipProgressBar" class="h-full w-0 bg-blue-500 transition-all"></div>
                </div>
                <p id="progressText" class="text-right text-sm mt-1">0%</p>
                <button type="button" id="closeModal" class="btn mt-4 hidden">Schlieen</button>
            </div>`,document.body.appendChild(this.modal),this.fileList=this.modal.querySelector("#downloadFileList"),this.progressBar=this.modal.querySelector("#zipProgressBar"),this.progressText=this.modal.querySelector("#progressText"),this.statusText=this.modal.querySelector("#statusText"),this.closeBtn=this.modal.querySelector("#closeModal"),this.messages={queued:"Wartet...",preparing:"Bereite Dateien vor...",downloading:"Wird heruntergeladen...",downloaded:"Heruntergeladen",packing:"Wird gepackt...",ready:"Fertig"}}open(e=[]){this.fileList.innerHTML="",e.forEach(r=>{const o=document.createElement("tr");o.dataset.name=r;const a=document.createElement("td");a.textContent=r;const l=document.createElement("td");l.textContent=this.messages.queued,l.classList.add("status"),o.appendChild(a),o.appendChild(l),this.fileList.appendChild(o)}),this.progressBar.style.width="0%",this.progressText.textContent="0%",this.statusText.textContent=this.messages.queued,this.closeBtn.classList.add("hidden"),this.modal.style.display="flex"}update(e,r,o={}){if(this.progressBar.style.width=`${e}%`,this.progressText.textContent=`${e}%`,r){const a=this.messages[r]||r;this.statusText.textContent=a}Object.entries(o).forEach(([a,l])=>{let u=this.fileList.querySelector(`tr[data-name="${a}"]`);if(!u){u=document.createElement("tr"),u.dataset.name=a;const y=document.createElement("td");y.textContent=a;const v=document.createElement("td");v.classList.add("status"),u.appendChild(y),u.appendChild(v),this.fileList.appendChild(u)}const m=u.querySelector(".status");m.textContent=this.messages[l]||l})}showClose(){this.statusText.textContent="Fertig",this.closeBtn.classList.remove("hidden")}onClose(e){this.closeBtn.addEventListener("click",()=>{this.modal.style.display="none",e&&e()})}}class za{constructor(e){this.form=e,this.selectAllBtn=document.getElementById("selectAll"),this.selectNoneBtn=document.getElementById("selectNone"),this.submitBtn=document.getElementById("zipSubmit"),this.selCountEl=document.getElementById("selCount"),this.modal=new qa,this.modal.onClose(()=>{}),this.init()}sanitizeName(e){return e.replace(/[\\/:*?"<>|]+/g,"_")}init(){var e,r,o;this.updateCount(),(e=this.selectAllBtn)==null||e.addEventListener("click",()=>this.toggleAll(!0)),(r=this.selectNoneBtn)==null||r.addEventListener("click",()=>this.toggleAll(!1)),document.addEventListener("change",a=>{var l;a.target&&((l=a.target.classList)!=null&&l.contains("pickbox"))&&this.updateCount()}),(o=this.submitBtn)==null||o.addEventListener("click",()=>this.startDownload())}toggleAll(e){document.querySelectorAll(".pickbox").forEach(r=>r.checked=e),this.updateCount()}updateCount(){const e=document.querySelectorAll(".pickbox:checked").length;this.selCountEl&&(this.selCountEl.textContent=`${e} ausgewhlt`)}async startDownload(){const e=Array.from(document.querySelectorAll(".pickbox:checked")),r=e.map(v=>v.value);if(!r.length){alert("Bitte whle mindestens ein Video aus.");return}const o=e.map(v=>{var w,x,O;return(O=(x=(w=v.closest(".card"))==null?void 0:w.querySelector(".file-name"))==null?void 0:x.textContent)==null?void 0:O.trim()}).filter(Boolean).map(v=>this.sanitizeName(v));this.modal.open(o);const a=this.form.dataset.zipPostUrl,l=document.querySelector('meta[name="csrf-token"]').getAttribute("content"),{data:{jobId:u}}=await ne.post(a,{assignment_ids:r},{headers:{"Content-Type":"application/json","X-CSRF-TOKEN":l}});let m=!1;const y=`zip.${u}`;window.Echo.channel(y).listen(".zip.progress",async v=>{v.status==="ready"&&!m?(m=!0,this.modal.update(v.progress||0,null,v.files||{}),await this.downloadZip(u,v.name),window.Echo.leave(y)):this.modal.update(v.progress||0,v.status,v.files||{})})}async downloadZip(e,r){const o=await ne.get(`/zips/${e}/download`,{responseType:"blob"});o.status===200&&(this.modal.update(100,"ready"),this.modal.showClose(),window.location.reload());const a=new Blob([o.data],{type:"application/zip"}),l=window.URL.createObjectURL(a),u=document.createElement("a");u.href=l,u.setAttribute("download",r||`download-${e}.zip`),document.body.appendChild(u),u.click(),u.remove(),window.URL.revokeObjectURL(l)}}window.noUiSlider=Ma;document.addEventListener("DOMContentLoaded",()=>{const n=document.getElementById("zipForm");n&&new za(n)});
